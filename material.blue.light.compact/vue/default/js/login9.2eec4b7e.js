"use strict";(self["webpackChunkvue_ui_teplate_gallery"]=self["webpackChunkvue_ui_teplate_gallery"]||[]).push([[7868],{81395:function(t,e,n){n.d(e,{G:function(){return P}});var o=n(33158),i=n(9783),a=n(53151),s=n(72602),r=n(77344),l=n(89889),h=n(12901),d=n(63632),p=n(84518),_=n(66487),g=o["default"].getDocument,u="annotations",f="."+u,m=(0,p.V4)([h.Z.down,h.Z.move],u),c=(0,p.V4)(h.Z.up,u),v=d.BL+f,A=d.pB+f,T=d.ut+f;function x(t,e){return{draw:function(n,o){var i=n._renderer.g().append(o).css((0,r.FI)(t.font));this.plaque&&this.plaque.clear(),this.plaque=new l.b((0,s.l)(!0,{},t,{cornerRadius:(t.border||{}).cornerRadius}),n,i,e,n._isAnnotationBounded(t)),this.plaque.draw(n._getAnnotationCoords(this)),t.allowDragging&&i.on(v,{immediate:!0},(t=>{this._dragOffsetX=this.plaque.x-t.pageX,this._dragOffsetY=this.plaque.y-t.pageY})).on(A,(t=>{this.plaque.move(t.pageX+this._dragOffsetX,t.pageY+this._dragOffsetY)})).on(T,(t=>{this.offsetX=(this.offsetX||0)+t.offset.x,this.offsetY=(this.offsetY||0)+t.offset.y}))},hitTest(t,e){return this.plaque.hitTest(t,e)},showTooltip(t,e){var{x:n,y:o}=e,i=this,a=i.options;if(t.annotation!==i){t.setTemplate(a.tooltipTemplate);var s=e=>{e&&(t.annotation=i)};s(t.show(a,{x:n,y:o},{target:a},a.customizeTooltip,s))}else t.isCursorOnTooltip(n,o)||t.move(n,o)}}}function O(t,e){var n;return"text"===t.type?n=function(t,n){var o=e._renderer.text(t.text).attr({class:t.cssClass}).append({element:n});(t.width>0||t.height>0)&&o.setMaxSize(t.width,t.height,{wordWrap:t.wordWrap,textOverflow:t.textOverflow})}:"image"===t.type?n=function(t,n){var{width:o,height:i,url:a,location:s}=t.image||{},{width:r,height:l}=t,h=r>0?Math.min(o,r):o,d=l>0?Math.min(i,l):i;e._renderer.image(0,0,h,d,a,s||"center").append({element:n})}:"custom"===t.type&&(n=t.template),n}function C(t){return"string"===typeof t?{url:t}:t}var y=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,r=C(n.image);return e.reduce(((e,l)=>{var h=C(l.image),d=(0,i.mf)(o)?o(l):{};d&&(d.image=C(d.image));var p=(0,s.l)(!0,{},n,l,{image:r},{image:h},d),_=O(p,t),g=_&&(0,s.l)(!0,a(p),x(p,t._getTemplate(_)));return g&&e.push(g),e}),[])},K={name:"annotations_chart",init(){},dispose(){},members:{_getAnnotationCoords(t){var e,n,o,a,s={offsetX:t.offsetX,offsetY:t.offsetY},r=this._options.silent("rotated")?"y":"x",l=this._options.silent("rotated")?"x":"y",h=this.getArgumentAxis(),d=h.validateUnit(t.argument),p=this.getValueAxis(t.axis),_=null===(e=p)||void 0===e?void 0:e.pane;t.series&&(o=this.series.filter((e=>e.name===t.series))[0],p=null===(a=o)||void 0===a?void 0:a.getValueAxis(),(0,i.$K)(p)&&(_=p.pane));if((0,i.$K)(d)){if(o){var g=o.getPointCenterByArg(d);g&&(s[r]=g[r])}else s[r]=h.getTranslator().translate(d);!(0,i.$K)(_)&&(_=h.pane)}var u,f,m=null===(n=p)||void 0===n?void 0:n.validateUnit(t.value);(0,i.$K)(m)&&(s[l]=null===(u=p)||void 0===u?void 0:u.getTranslator().translate(m),!(0,i.$K)(_)&&(0,i.$K)(p)&&(_=p.pane));(s.canvas=this._getCanvasForPane(_),(0,i.$K)(s[r])&&!(0,i.$K)(m))&&((0,i.$K)(p)||(0,i.$K)(o)?(0,i.$K)(p)&&!(0,i.$K)(o)?s[l]=this._argumentAxes.filter((t=>t.pane===p.pane))[0].getAxisPosition():null!==(f=o)&&void 0!==f&&f.checkSeriesViewportCoord(h,s[r])&&(s[l]=o.getSeriesPairCoord(s[r],!0)):s[l]=h.getAxisPosition());return!(0,i.$K)(d)&&(0,i.$K)(s[l])&&((0,i.$K)(p)&&!(0,i.$K)(o)?s[r]=p.getAxisPosition():(0,i.$K)(o)&&o.checkSeriesViewportCoord(p,s[l])&&(s[r]=o.getSeriesPairCoord(s[l],!1))),s},_annotationsPointerEventHandler(t){if(!this._disposed){var e=t.originalEvent||{},n=e.touches&&e.touches[0]||{},o=this._renderer.getRootOffset(),i={x:n.pageX||e.pageX||t.pageX,y:n.pageY||e.pageY||t.pageY},a=this._annotations.items.filter((t=>t.hitTest(i.x-o.left,i.y-o.top)))[0];a&&a.options.tooltipEnabled?(this._clear(),a.options.allowDragging&&t.type===h.Z.down&&(this._annotations._hideToolTipForDrag=!0),this._annotations._hideToolTipForDrag||(a.showTooltip(this._annotations.tooltip,i),t.stopPropagation())):this._annotations.hideTooltip()}},_isAnnotationBounded:t=>(0,i.$K)(t.value)||(0,i.$K)(t.argument),_pullOptions:t=>({type:t.type,name:t.name,x:t.x,y:t.y,value:t.value,argument:t.argument,axis:t.axis,series:t.series,options:t,offsetX:t.offsetX,offsetY:t.offsetY}),_forceAnnotationRender(){this._change(["FORCE_RENDER"])},_clear(){this.hideTooltip(),this.clearHover()}}},$={name:"annotations_polar_chart",init(){},dispose(){},members:{_getAnnotationCoords(t){var e,n,o={offsetX:t.offsetX,offsetY:t.offsetY,canvas:this._calcCanvas()},a=this.getArgumentAxis(),r=a.validateUnit(t.argument),l=this.getValueAxis().validateUnit(t.value),h=t.radius,d=t.angle;return t.series&&(n=this.series.filter((e=>e.name===t.series))[0]),(0,s.l)(!0,o,this.getXYFromPolar(d,h,r,l)),(0,i.$K)(n)&&(!(0,i.$K)(o.angle)||(0,i.$K)(l)||(0,i.$K)(h)?!(0,i.$K)(o.radius)||(0,i.$K)(r)||(0,i.$K)(d)||(e=n.getSeriesPairCoord({radius:o.radius},!1)):((0,i.$K)(r)||(r=a.getTranslator().from(isFinite(d)?this.getActualAngle(d):o.angle)),e=n.getSeriesPairCoord({argument:r,angle:-o.angle},!0)),(0,i.$K)(e)&&(o.x=e.x,o.y=e.y)),t.series&&!(0,i.$K)(e)&&(o.x=o.y=void 0),o},_annotationsPointerEventHandler:K.members._annotationsPointerEventHandler,_isAnnotationBounded:K.members._isAnnotationBounded,_pullOptions(t){var e=(0,s.l)({},{radius:t.radius,angle:t.angle},K.members._pullOptions(t));return delete e.axis,e},_forceAnnotationRender:K.members._forceAnnotationRender,_clear:K.members._clear}},E={name:"annotations_vector_map",init(){},dispose(){this._annotations._offTracker(),this._annotations._offTracker=null},members:{_getAnnotationCoords(t){var e={offsetX:t.offsetX,offsetY:t.offsetY};if(e.canvas=this._projection.getCanvas(),t.coordinates){var n=this._projection.toScreenPoint(t.coordinates);e.x=n[0],e.y=n[1]}return e},_annotationsPointerEventHandler:K.members._annotationsPointerEventHandler,_isAnnotationBounded:t=>(0,i.$K)(t.coordinates),_pullOptions(t){var e=(0,s.l)({},{coordinates:t.coordinates},K.members._pullOptions(t));return delete e.axis,delete e.series,delete e.argument,delete e.value,e},_forceAnnotationRender(){this._change(["EXTRA_ELEMENTS"])},_getAnnotationStyles:()=>({"text-anchor":"start"}),_clear(){}},extenders:{_prepareExtraElements(){var t=this,e=()=>{t._renderExtraElements()};t._annotations._offTracker=t._tracker.on({move:e,zoom:e,end:e})}}},w={name:"annotations_pie_chart",init(){},dispose(){},members:{_getAnnotationCoords(t){var e,n={offsetX:t.offsetX,offsetY:t.offsetY,canvas:this._canvas};if(t.argument){e=t.series?this.getSeriesByName(t.series):this.series[0];var o=e.getPointsByArg(t.argument)[0],{x:i,y:a}=o.getAnnotationCoords(t.location);n.x=i,n.y=a}return n},_isAnnotationBounded:t=>t.argument,_annotationsPointerEventHandler:K.members._annotationsPointerEventHandler,_pullOptions(t){var e=(0,s.l)({},{location:t.location},K.members._pullOptions(t));return delete e.axis,e},_clear:K.members._clear,_forceAnnotationRender:K.members._forceAnnotationRender}},b={name:"annotations_core",init(){this._annotations={items:[],_hideToolTipForDrag:!1,tooltip:new a.u({cssClass:"".concat(this._rootClassPrefix,"-annotation-tooltip"),eventTrigger:this._eventTrigger,widgetRoot:this.element(),widget:this}),hideTooltip(){this.tooltip.annotation=null,this.tooltip.hide()},clearItems(){this.items.forEach((t=>t.plaque.clear())),this.items=[]}},this._annotations.tooltip.setRendererOptions(this._getRendererOptions())},dispose(){this._annotationsGroup.linkRemove().linkOff(),_.Z.off(g(),f),this._annotationsGroup.off(f),this._annotations.tooltip&&this._annotations.tooltip.dispose()},extenders:{_createHtmlStructure(){this._annotationsGroup=this._renderer.g().attr({class:"".concat(this._rootClassPrefix,"-annotations")}).css(this._getAnnotationStyles()).linkOn(this._renderer.root,"annotations").linkAppend(),_.Z.on(g(),m,(t=>{this._disposed||this._annotations.tooltip.isCursorOnTooltip(t.pageX,t.pageY)||this._annotations.hideTooltip()})),_.Z.on(g(),c,(t=>{this._annotations._hideToolTipForDrag=!1,this._annotationsPointerEventHandler(t)})),this._annotationsGroup.on(m,this._annotationsPointerEventHandler.bind(this))},_renderExtraElements(){this._annotationsGroup.clear(),this._annotations.items.forEach((t=>t.draw(this,this._annotationsGroup)))},_stopCurrentHandling(){this._annotations.hideTooltip()}},members:{_buildAnnotations(){this._annotations.clearItems();var t=this._getOption("annotations",!0);null!==t&&void 0!==t&&t.length&&(this._annotations.items=y(this,t,this._getOption("commonAnnotationSettings"),this._getOption("customizeAnnotation",!0),this._pullOptions))},_setAnnotationTooltipOptions(){var t=(0,s.l)({},this._getOption("tooltip"));t.contentTemplate=t.customizeTooltip=void 0,this._annotations.tooltip.update(t)},_getAnnotationCoords:()=>({}),_pullOptions:()=>({}),_getAnnotationStyles:()=>({})},customize(t){t.addChange({code:"ANNOTATIONITEMS",handler(){this._requestChange(["ANNOTATIONS"])},isOptionChange:!0,option:"annotations"}),t.addChange({code:"ANNOTATIONSSETTINGS",handler(){this._requestChange(["ANNOTATIONS"])},isOptionChange:!0,option:"commonAnnotationSettings"}),t.addChange({code:"ANNOTATIONS",handler(){this._buildAnnotations(),this._setAnnotationTooltipOptions(),this._forceAnnotationRender()},isThemeDependent:!0,isOptionChange:!0})},fontFields:["commonAnnotationSettings.font"]},P={core:b,chart:K,polarChart:$,vectorMap:E,pieChart:w}}}]);