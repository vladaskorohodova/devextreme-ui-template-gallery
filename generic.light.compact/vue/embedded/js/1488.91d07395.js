"use strict";(self["webpackChunkvue_ui_teplate_gallery"]=self["webpackChunkvue_ui_teplate_gallery"]||[]).push([[1488],{35125:function(e,t,i){i.d(t,{P:function(){return be},F:function(){return xe}});var n={};i.r(n),i.d(n,{ChartTracker:function(){return U},PieTracker:function(){return q}});var r=i(84392),o=i(66487),s=i(9783),a=i(12145),l=i(72602),h=i(84518),_=i(66060),u=i(97294),c=i(81812),d=i(14672),p=i(76538),g=i(13137),f=i(33158),v=i(36879),m=i(74721),S=i(77344),A=i(12901),T=i(17383),E=Math.floor,R=m.Z.events,C=m.Z.states,O=C.hoverMark,x=C.normalMark,b="dxChartTracker",k="."+b,I=(0,h.V4)([A.Z.down,A.Z.move],b),y="legendClick",P="seriesClick",L="pointClick",H="chart-data-point",w="chart-data-series",N="chart-data-argument",D=100,F=300,B="none",G="allargumentpoints",M="includepoints",K="excludepoints",X=[M,K,B];function $(e,t,i){var n=e.target;if("tspan"===n.tagName)return n.parentNode[t];var r=n[t];return i&&!(0,s.$K)(r)?function e(i){if(i.parentNode)return(0,s.$K)(i.parentNode[t])?i.parentNode[t]:e(i.parentNode)}(n):r}function V(e,t,i){var{event:n,cancel:r}=e,o=n.cancel,s=r||o;return o&&T.Z.log("W0003","".concat(i,"Ckick handler argument"),"event.cancel","22.1","Use the 'cancel' field instead"),s||!t.getOptions()}function Z(e){return X.indexOf(e)>-1?e:M}function z(e){var t=e.getOptions().hoverMode;return t===B?t:G}var Y={ctor:function(e){var t=this,i={tracker:t};t._renderer=e.renderer,t._legend=e.legend,t._tooltip=e.tooltip,t._eventTrigger=e.eventTrigger,t._seriesGroup=e.seriesGroup,e.seriesGroup.off(k).on((0,h.V4)(R.showPointTooltip,b),i,t._showPointTooltip).on((0,h.V4)(R.hidePointTooltip,b),i,t._hidePointTooltip),t._renderer.root.off(k).on(I,i,t._pointerHandler).on((0,h.V4)(A.Z.up,b),(()=>clearTimeout(t._holdTimer))).on((0,h.V4)(v.u,b),i,t._clickHandler)},update:function(e){this._chart=e.chart},updateSeries(e,t){var i=this,n=!(null!==e&&void 0!==e&&e.some((e=>e===i.hoveredSeries))||i._hoveredPoint&&i._hoveredPoint.series);i._storedSeries!==e&&(i._storedSeries=e||[]),n&&(i._clean(),i._renderer.initHatching()),t&&(i.clearSelection(),n||(i._hideTooltip(i.pointAtShownTooltip),i.clearHover()))},setCanvases:function(e,t){this._mainCanvas=e,this._canvases=t},repairTooltip:function(){var e=this.pointAtShownTooltip;e&&e.series&&e.isVisible()?this._showTooltip(e):this._hideTooltip(e,!0)},_setHoveredPoint:function(e){e!==this._hoveredPoint&&(this._releaseHoveredPoint(),e.hover(),this._hoveredPoint=e)},_releaseHoveredPoint:function(e){this._hoveredPoint&&this._hoveredPoint.getOptions()&&(this._hoveredPoint.clearHover(),this._hoveredPoint=null,this._tooltip.isEnabled()&&this._hideTooltip(this._hoveredPoint,!1,e))},_setHoveredSeries:function(e,t){this._releaseHoveredSeries(),this._releaseHoveredPoint(),e.hover(t),this.hoveredSeries=e},_releaseHoveredSeries(){this.hoveredSeries&&(this.hoveredSeries.clearHover(),this.hoveredSeries=null)},clearSelection(){this._storedSeries.forEach((e=>{e&&(e.clearSelection(),e.getPoints().forEach((e=>e.clearSelection())))}))},_clean:function(){this.hoveredPoint=this.hoveredSeries=this._hoveredArgumentPoints=null,this._hideTooltip(this.pointAtShownTooltip)},clearHover:function(e){this._resetHoveredArgument(),this._releaseHoveredSeries(),this._releaseHoveredPoint(e)},_hideTooltip:function(e,t,i){!this._tooltip||e&&this.pointAtShownTooltip!==e||(!t&&this.pointAtShownTooltip&&(this.pointAtShownTooltip=null),this._tooltip.hide(!!i))},_showTooltip:function(e){var t,i=this,n={target:e};if(null!==e&&void 0!==e&&e.getOptions()){if(t=e.getTooltipFormatObject(i._tooltip,i._tooltip.isShared()&&i._chart.getStackedPoints(e)),!(0,s.$K)(t.valueText)&&!t.points||!e.isVisible())return;var r=e.getTooltipParams(i._tooltip.getLocation()),o=i._renderer.getRootOffset();r.x+=o.left,r.y+=o.top;var a=t=>{t&&(i.pointAtShownTooltip=e)};a(i._tooltip.show(t,r,n,void 0,a))}},_showPointTooltip:function(e,t){var i=e.data.tracker,n=i.pointAtShownTooltip;n&&n!==t&&i._hideTooltip(n),i._showTooltip(t)},_hidePointTooltip:function(e,t){e.data.tracker._hideTooltip(t,!1,!0)},_enableOutHandler:function(){if(!this._outHandler){var e=this,t=function(t){var i=e._renderer.getRootOffset(),n=E(t.pageX-i.left),r=E(t.pageY-i.top);(0,S.kY)(e._mainCanvas,n,r)||e._isCursorOnTooltip(t)||(e._pointerOut(),e._disableOutHandler())};o.Z.on(f["default"].getDocument(),I,t),this._outHandler=t}},_isCursorOnTooltip:function(e){return this._tooltip.isEnabled()&&this._tooltip.isCursorOnTooltip(e.pageX,e.pageY)},_disableOutHandler:function(){this._outHandler&&o.Z.off(f["default"].getDocument(),I,this._outHandler),this._outHandler=null},stopCurrentHandling:function(){this._pointerOut(!0)},_pointerOut:function(e){this.clearHover(!0),(e||this._tooltip.isEnabled())&&this._hideTooltip(this.pointAtShownTooltip,!1,!0)},_triggerLegendClick:function(e,t){var i=this._eventTrigger;i(y,e,(function(){!V(e,e.target,"Legend")&&i(t,e)}))},_hoverLegendItem:function(e,t){var i,n=this._legend.getItemByCoord(e,t),r=Z(this._legend.getOptions().hoverMode);n?(i=this._storedSeries[n.id],i.isHovered()&&i.lastHoverMode===r||this._setHoveredSeries(i,r),this._tooltip.isEnabled()&&this._hideTooltip(this.pointAtShownTooltip)):this.clearHover()},_hoverArgument:function(e,t){var i=this._getArgumentHoverMode();(0,s.$K)(e)&&(this._releaseHoveredPoint(),this._hoveredArgument=e,this._argumentIndex=t,this._notifySeries({action:"pointHover",notifyLegend:this._notifyLegendOnHoverArgument,target:{argument:e,fullState:O,argumentIndex:t,getOptions:function(){return{hoverMode:i}}}}))},_resetHoveredArgument:function(){var e;(0,s.$K)(this._hoveredArgument)&&(e=this._getArgumentHoverMode(),this._notifySeries({action:"clearPointHover",notifyLegend:this._notifyLegendOnHoverArgument,target:{fullState:x,argumentIndex:this._argumentIndex,argument:this._hoveredArgument,getOptions:function(){return{hoverMode:e}}}}),this._hoveredArgument=null)},_notifySeries:function(e){this._storedSeries.forEach((function(t){t.notify(e)}))},_pointerHandler:function(e){var t,i=e.data.tracker,n=i._renderer.getRootOffset(),r=E(e.pageX-n.left),o=E(e.pageY-n.top),s=i._getCanvas(r,o),a=$(e,w),l=$(e,H)||(null===(t=a)||void 0===t?void 0:t.getPointByCoord(r,o));if(i._isHolding=!1,clearTimeout(i._holdTimer),e.type===A.Z.down&&(i._holdTimer=setTimeout((()=>i._isHolding=!0),F)),l&&!l.getMarkerVisibility()&&(l=void 0),i._enableOutHandler(),i._legend.coordsIn(r,o))i._hoverLegendItem(r,o);else if(i.hoveredSeries&&i.hoveredSeries!==i._stuckSeries&&i._releaseHoveredSeries(),!i._hoverArgumentAxis(r,o,e)&&(i._isPointerOut(s,l)&&i._pointerOut(),s||l)){if(a&&!l){if(l=a.getNeighborPoint(r,o),i._stickyHovering||!l||l.coordsIn(r,o)||(l=null),a!==i.hoveredSeries)return void i._setTimeout((function(){i._setHoveredSeries(a),i._setStuckSeries(e,a,r,o),i._pointerComplete(l,r,o)}),a)}else{if(l){if(e.type!==A.Z.move&&"touch"!==e.pointerType)return;return void(i.hoveredSeries?i._setTimeout((()=>i._pointerOnPoint(l,r,o,e)),l):i._pointerOnPoint(l,r,o,e))}var h;i._setStuckSeries(e,void 0,r,o)&&i._stickyHovering?(a=i._stuckSeries,l=a.getNeighborPoint(r,o),i._releaseHoveredSeries(),(null===(h=l)||void 0===h?void 0:h.getMarkerVisibility())&&i._setHoveredPoint(l)):i._stickyHovering||i._pointerOut()}i._pointerComplete(l,r,o)}},_pointerOnPoint:function(e,t,i){this._resetHoveredArgument(),this._setHoveredPoint(e),this._pointerComplete(e,t,i)},_pointerComplete:function(e){this.pointAtShownTooltip!==e&&this._tooltip.isEnabled()&&this._showTooltip(e)},_clickHandler:function(e){var t,i=e.data.tracker;if(!i._isHolding){var n=i._renderer.getRootOffset(),r=E(e.pageX-n.left),o=E(e.pageY-n.top),a=$(e,H),l=i._stuckSeries||$(e,w)||(null===(t=a)||void 0===t?void 0:t.series),h=i._argumentAxis;if(i._legend.coordsIn(r,o)){var _=i._legend.getItemByCoord(r,o);_&&i._legendClick(_,e)}else if(null!==h&&void 0!==h&&h.coordsIn(r,o)){var u=$(e,N,!0);(0,s.$K)(u)&&i._eventTrigger("argumentAxisClick",{argument:u,event:e})}else if(l){var c;a=a||l.getPointByCoord(r,o),null!==(c=a)&&void 0!==c&&c.getMarkerVisibility()?i._pointClick(a,e):$(e,w)&&i._eventTrigger(P,{target:l,event:e})}}},dispose:function(){this._disableOutHandler(),this._renderer.root.off(k),this._seriesGroup.off(k)}},U=function(e){this.ctor(e)};(0,l.l)(U.prototype,Y,{_pointClick:function(e,t){var i=this._eventTrigger,n=e.series,r={target:e,event:t};i(L,r,(function(){!V(r,n,"Point")&&i(P,{target:n,event:t})}))},update:function(e){Y.update.call(this,e),this._argumentAxis=e.argumentAxis||{},this._axisHoverEnabled=this._argumentAxis&&(0,S.ps)(this._argumentAxis.getOptions().hoverMode)===G,this._rotated=e.rotated,this._crosshair=e.crosshair,this._stickyHovering=e.stickyHovering},_getCanvas:function(e,t){for(var i=this._canvases||[],n=0;n<i.length;n++){var r=i[n];if((0,S.kY)(r,e,t))return r}return null},_isPointerOut:function(e){return!e&&this._stuckSeries},_hideCrosshair:function(){var e;null===(e=this._crosshair)||void 0===e||e.hide()},_moveCrosshair:function(e,t,i){this._crosshair&&null!==e&&void 0!==e&&e.isVisible()&&this._crosshair.show({point:e,x:t,y:i})},_clean:function(){Y._clean.call(this),this._resetTimer(),this._stuckSeries=null},_getSeriesForShared:function(e,t){var i,n=[],r=null,o=1/0;return this._tooltip.isShared()&&!this.hoveredSeries&&((0,a.S6)(this._storedSeries,(function(i,r){var o=r.getNeighborPoint(e,t);o&&n.push(o)})),(0,a.S6)(n,(function(i,n){var s=n.getCrosshairData(e,t),a=(0,S.Sp)(e,t,s.x,s.y);a<o&&(r=n,o=a)}))),null===(i=r)||void 0===i?void 0:i.series},_setTimeout:function(e,t){var i=this;i._timeoutKeeper!==t&&(i._resetTimer(),i._hoverTimeout=setTimeout((function(){e(),i._timeoutKeeper=null}),D),i._timeoutKeeper=t)},_resetTimer:function(){clearTimeout(this._hoverTimeout),this._timeoutKeeper=this._hoverTimeout=null},_stopEvent:function(e){(0,s.$K)(e.cancelable)&&!e.cancelable||(e.preventDefault(),e.stopPropagation())},_setStuckSeries:function(e,t,i,n){return"mouse"!==e.pointerType?this._stuckSeries=null:this._stuckSeries=t||this._stuckSeries||this._getSeriesForShared(i,n),!!this._stuckSeries},_pointerOut:function(){var e=this;e._stuckSeries=null,e._hideCrosshair(),e._resetTimer(),Y._pointerOut.apply(e,arguments)},_hoverArgumentAxis:function(e,t,i){if(this._resetHoveredArgument(),this._axisHoverEnabled&&this._argumentAxis.coordsIn(e,t))return this._hoverArgument($(i,N,!0)),!0},_pointerComplete:function(e,t,i){this.hoveredSeries&&this.hoveredSeries.updateHover(t,i),this._resetTimer(),this._moveCrosshair(e,t,i),Y._pointerComplete.call(this,e)},_legendClick:function(e,t){var i=this._storedSeries[e.id];this._triggerLegendClick({target:i,event:t},P)},_hoverLegendItem:function(e,t){this._stuckSeries=null,this._hideCrosshair(),Y._hoverLegendItem.call(this,e,t)},_pointerOnPoint:function(e,t,i,n){this._setStuckSeries(n,e.series,t,i),this._releaseHoveredSeries(),Y._pointerOnPoint.call(this,e,t,i,n)},_notifyLegendOnHoverArgument:!1,_getArgumentHoverMode:function(){return z(this._argumentAxis)},dispose:function(){this._resetTimer(),Y.dispose.call(this)}});var q=function(e){this.ctor(e)};(0,l.l)(q.prototype,Y,{_isPointerOut:function(e,t){return!t},_legendClick:function(e,t){var i=[];this._storedSeries.forEach((t=>i.push.apply(i,t.getPointsByKeys(e.argument,e.argumentIndex)))),this._eventTrigger(y,{target:e.argument,points:i,event:t})},_pointClick:function(e,t){this._eventTrigger(L,{target:e,event:t})},_hoverLegendItem:function(e,t){var i=this._legend.getItemByCoord(e,t);i&&this._hoveredArgument!==i.argument?(this._resetHoveredArgument(),this._hoverArgument(i.argument,i.argumentIndex)):i||this.clearHover()},_getArgumentHoverMode:function(){return z(this._legend)},_hoverArgumentAxis:r.ZT,_setStuckSeries:r.ZT,_getCanvas:r.ZT,_notifyLegendOnHoverArgument:!0});var j=i(21979),W=i(68073),J=i(77123),Q=i(53151),ee=i(65418),te=Array.isArray,ie="_reinit",ne="_updateDataSource",re="_dataInit",oe="_forceRender",se="_resize",ae=[ie,ne,re,oe,se],le=.3,he=["series","commonSeriesSettings","dataPrepareSettings","seriesSelectionMode","pointSelectionMode","synchronizeMultiAxes","resolveLabelsOverlapping"],_e=["minBubbleSize","maxBubbleSize","barGroupPadding","barGroupWidth","negativesAsZeroes","negativesAsZeros"],ue=["adaptiveLayout","crosshair","resolveLabelOverlapping","adjustOnZoom","stickyHovering"],ce="font";function de(e,t){var i=t.end-t.start,n=0;e.forEach((function(e){n+=e.getBoundingRect().width}));while(i<n)n-=pe(e)}function pe(e){var t=e.reduce((function(e,t,i){if(!t)return e;var n=t.value();return n<e.value?{value:n,rollingStock:t,index:i}:e}),{rollingStock:void 0,value:1/0,index:void 0});t.rollingStock.getLabels()[0].draw(!1);var i=t.rollingStock.getBoundingRect().width;return e[t.index]=null,i}function ge(e){var t,i,n,r,o=!1;for(t=0,n=e.length-1;t<n;t++){for(i=t+1,r=e.length;i<r;i++)if(t!==i&&ve(e[t],e[i],!0)){o=!0;break}if(o)break}return o}function fe(e,t,i,n,r){var o,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>0,a=[],l={start:i?t.left:t.top,end:i?t.width-t.right:t.height-t.bottom},h=!1;if(e.forEach((function(e){e&&(h=h||e.series.isStackedSeries()||e.series.isFullStackedSeries(),e.getLabels().forEach((function(e){e.isVisible()&&a.push(new Ee(e,i,r))})))})),h)!i^n&&a.reverse(),o=n?a:me(a);else{var _=a.slice();o=a.sort((function(e,t){return s(e,t)||e.getInitialPosition()-t.getInitialPosition()||_.indexOf(e)-_.indexOf(t)}))}return!!ge(o)&&(de(o,l),Se(o),o.reverse(),Ae(o,l),!0)}function ve(e,t,i){if(e&&t){var n=e.getBoundingRect(),r=t.getBoundingRect(),o=!i||(n.oppositeStart<=r.oppositeStart&&n.oppositeEnd>r.oppositeStart||r.oppositeStart<=n.oppositeStart&&r.oppositeEnd>n.oppositeStart);return n.end>r.start&&o}}function me(e){var t=[],i=[];return e.forEach((e=>{e.value()>0?t.push(e):i.unshift(e)})),t.concat(i)}function Se(e){var t,i,n;for(t=0;t<e.length-1;t++)i=n||e[t],ve(i,e[t+1])?(i.toChain(e[t+1]),e[t+1]=null,n=i):n=e[t+1]||i}function Ae(e,t){var i,n,r,o,s,a;for(i=0;i<e.length;i++){if(r=e[i],Te(r,t))for(s=r.getBoundingRect(),n=i+1;n<e.length;n++)if(o=e[n],o&&(a=o.getBoundingRect(),a.end>s.start-(s.end-t.end))){o.toChain(r),e[i]=r=null;break}r&&r.setRollingStockInCanvas(t)}}function Te(e,t){return e&&e.getBoundingRect().end>t.end}function Ee(e,t,i){var n=e.getBoundingRect(),r=n.x,o=n.y,s=n.x+n.width,a=n.y+n.height;return this.labels=[e],this.shiftFunction=i,this._bBox={start:t?r:o,width:t?n.width:n.height,end:t?s:a,oppositeStart:t?o:r,oppositeEnd:t?a:s},this._initialPosition=t?n.x:n.y,this}function Re(e){return{nameField:e+"Name",colorField:e+"Color",indexField:e+"Index"}}function Ce(e){var t=Re(e);return{getFormatObject:function(e){var i={};return i[t.indexField]=e.id,i[t.colorField]=e.states.normal.fill,i[t.nameField]=e.text,i},textField:t.nameField}}function Oe(e,t){return(e.x<=t.x&&t.x<=e.x+e.width||e.x>=t.x&&e.x<=t.x+t.width)&&(e.y<=t.y&&t.y<=e.y+e.height||e.y>=t.y&&e.y<=t.y+t.height)}Ee.prototype={toChain:function(e){var t=e.getBoundingRect();e.shift(t.start-this._bBox.end),this._changeBoxWidth(t.width),this.labels=this.labels.concat(e.labels)},getBoundingRect:function(){return this._bBox},shift:function(e){var t=this.shiftFunction;(0,a.S6)(this.labels,(function(i,n){var r=n.getBoundingRect(),o=t(r,e);n.hideInsideLabel(o)||n.shift(o.x,o.y)})),this._bBox.end-=e,this._bBox.start-=e},setRollingStockInCanvas:function(e){this._bBox.end>e.end&&this.shift(this._bBox.end-e.end)},getLabels:function(){return this.labels},value(){return this.labels[0].getData().value},getInitialPosition:function(){return this._initialPosition},_changeBoxWidth:function(e){this._bBox.end+=e,this._bBox.width+=e}};var xe={resolveLabelOverlappingInOneDirection:fe},be=_.Z.inherit({_eventsMap:{onSeriesClick:{name:"seriesClick"},onPointClick:{name:"pointClick"},onArgumentAxisClick:{name:"argumentAxisClick"},onLegendClick:{name:"legendClick"},onSeriesSelectionChanged:{name:"seriesSelectionChanged"},onPointSelectionChanged:{name:"pointSelectionChanged"},onSeriesHoverChanged:{name:"seriesHoverChanged"},onPointHoverChanged:{name:"pointHoverChanged"},onDone:{name:"done",actionSettings:{excludeValidators:["disabled"]}},onZoomStart:{name:"zoomStart"},onZoomEnd:{name:"zoomEnd"}},_fontFields:["legend."+ce,"legend.title."+ce,"legend.title.subtitle."+ce,"commonSeriesSettings.label."+ce],_rootClassPrefix:"dxc",_rootClass:"dxc-chart",_initialChanges:["INIT"],_themeDependentChanges:["REFRESH_SERIES_REINIT"],_getThemeManagerOptions(){var e=this.callBase.apply(this,arguments);return e.options=this.option(),e},_createThemeManager:function(){var e=this.option(),t=new p.V(this._getThemeManagerOptions());return t.setTheme(e.theme,e.rtlEnabled),t},_initCore:function(){this._canvasClipRect=this._renderer.clipRect(),this._createHtmlStructure(),this._createLegend(),this._createTracker(),this._needHandleRenderComplete=!0,this.layoutManager=new g.n,this._createScrollBar(),o.Z.on(this._$element,"contextmenu",(function(e){((0,h.z6)(e)||(0,h.bX)(e))&&e.preventDefault()})),o.Z.on(this._$element,"MSHoldVisual",(function(e){e.preventDefault()}))},_getLayoutItems:r.ZT,_layoutManagerOptions:function(){return this._themeManager.getOptions("adaptiveLayout")},_reinit(){(0,S.Oy)(this._canvas),this._reinitAxes(),this._requestChange(["DATA_SOURCE","DATA_INIT","CORRECT_AXIS","FULL_RENDER"])},_correctAxes:r.ZT,_createHtmlStructure:function(){var e=this,t=e._renderer,i=t.root,n=function(){return t.g().attr({class:"dxc-constant-lines-group"}).linkOn(i,"constant-lines")};e._constantLinesGroup={dispose:function(){this.under.dispose(),this.above.dispose()},linkOff:function(){this.under.linkOff(),this.above.linkOff()},clear:function(){this.under.linkRemove().clear(),this.above.linkRemove().clear()},linkAppend:function(){this.under.linkAppend(),this.above.linkAppend()}},e._labelsAxesGroup=t.g().attr({class:"dxc-elements-axes-group"});var r=()=>{e._labelsAxesGroup.linkOn(i,"elements")};e._backgroundRect=t.rect().attr({fill:"gray",opacity:1e-4}).append(i),e._panesBackgroundGroup=t.g().attr({class:"dxc-background"}).append(i),e._stripsGroup=t.g().attr({class:"dxc-strips-group"}).linkOn(i,"strips"),e._gridGroup=t.g().attr({class:"dxc-grids-group"}).linkOn(i,"grids"),e._panesBorderGroup=t.g().attr({class:"dxc-border"}).linkOn(i,"border"),e._axesGroup=t.g().attr({class:"dxc-axes-group"}).linkOn(i,"axes"),e._executeAppendBeforeSeries(r),e._stripLabelAxesGroup=t.g().attr({class:"dxc-strips-labels-group"}).linkOn(i,"strips-labels"),e._constantLinesGroup.under=n(),e._seriesGroup=t.g().attr({class:"dxc-series-group"}).linkOn(i,"series"),e._executeAppendAfterSeries(r),e._constantLinesGroup.above=n(),e._scaleBreaksGroup=t.g().attr({class:"dxc-scale-breaks"}).linkOn(i,"scale-breaks"),e._labelsGroup=t.g().attr({class:"dxc-labels-group"}).linkOn(i,"labels"),e._crosshairCursorGroup=t.g().attr({class:"dxc-crosshair-cursor"}).linkOn(i,"crosshair"),e._legendGroup=t.g().attr({class:"dxc-legend","clip-path":e._getCanvasClipRectID()}).linkOn(i,"legend").linkAppend(i).enableLinks(),e._scrollBarGroup=t.g().attr({class:"dxc-scroll-bar"}).linkOn(i,"scroll-bar")},_executeAppendBeforeSeries(){},_executeAppendAfterSeries(){},_disposeObjectsInArray:function(e,t){(0,a.S6)(this[e]||[],(function(e,i){t&&i?(0,a.S6)(t,(function(e,t){i[t]&&i[t].dispose()})):i&&i.dispose()})),this[e]=null},_disposeCore:function(){var e=this,t=function(t){e[t]&&(e[t].dispose(),e[t]=null)},i=function(t){e[t].linkOff()},n=this._disposeObjectsInArray;e._renderer.stopAllAnimations(),n.call(e,"series"),t("_tracker"),t("_crosshair"),e.layoutManager=e._userOptions=e._canvas=e._groupsData=null,i("_stripsGroup"),i("_gridGroup"),i("_axesGroup"),i("_constantLinesGroup"),i("_stripLabelAxesGroup"),i("_panesBorderGroup"),i("_seriesGroup"),i("_labelsGroup"),i("_crosshairCursorGroup"),i("_legendGroup"),i("_scrollBarGroup"),i("_scaleBreaksGroup"),t("_canvasClipRect"),t("_panesBackgroundGroup"),t("_backgroundRect"),t("_stripsGroup"),t("_gridGroup"),t("_axesGroup"),t("_constantLinesGroup"),t("_stripLabelAxesGroup"),t("_panesBorderGroup"),t("_seriesGroup"),t("_labelsGroup"),t("_crosshairCursorGroup"),t("_legendGroup"),t("_scrollBarGroup"),t("_scaleBreaksGroup")},_getAnimationOptions:function(){return this._themeManager.getOptions("animation")},_getDefaultSize:function(){return{width:400,height:400}},_getOption:function(e){return this._themeManager.getOptions(e)},_applySize:function(e){this._rect=e.slice(),this._changes.has("FULL_RENDER")||this._processRefreshData(se)},_resize:function(){this._doRender(this.__renderOptions||{animate:!1,isResize:!0})},_trackerType:"ChartTracker",_createTracker:function(){this._tracker=new n[this._trackerType]({seriesGroup:this._seriesGroup,renderer:this._renderer,tooltip:this._tooltip,legend:this._legend,eventTrigger:this._eventTrigger})},_getTrackerSettings:function(){return(0,l.l)({chart:this},this._getSelectionModes())},_getSelectionModes:function(){var e=this._themeManager;return{seriesSelectionMode:e.getOptions("seriesSelectionMode"),pointSelectionMode:e.getOptions("pointSelectionMode")}},_updateTracker:function(e){this._tracker.update(this._getTrackerSettings()),this._tracker.setCanvases({left:0,right:this._canvas.width,top:0,bottom:this._canvas.height},e)},_createCanvasFromRect(e){var t=this._canvas;return(0,S.Oy)({left:e[0],top:e[1],right:t.width-e[2],bottom:t.height-e[3],width:t.width,height:t.height})},_doRender:function(e){if(0!==this._canvas.width||0!==this._canvas.height){this._resetIsReady();var t=this._prepareDrawOptions(e),i=t.recreateCanvas;this._preserveOriginalCanvas(),i?this.__currentCanvas=this._canvas:this._canvas=this.__currentCanvas,i&&this._updateCanvasClipRect(this._canvas),this._canvas=this._createCanvasFromRect(this._rect),this._renderer.stopAllAnimations(!0),this._cleanGroups();var n=new Date;this._renderElements(t),this._lastRenderingTime=new Date-n}},_preserveOriginalCanvas(){this.__originalCanvas=this._canvas,this._canvas=(0,l.l)({},this._canvas)},_layoutAxes:r.ZT,_renderElements:function(e){var t,i,n,r=this,o=r._prepareToRender(e),s=r._isRotated(),a=r._isLegendInside(),h=[];(0,l.l)({},r._canvas),r._renderer.lock(),e.drawLegend&&r._legend&&r._legendGroup.linkAppend(),r.layoutManager.setOptions(r._layoutManagerOptions());var _=r._getLayoutTargets();this._layoutAxes((t=>{var i=t?(0,l.l)({},e,{animate:!1,recreateCanvas:!0}):e,n=r._renderAxes(i,o);r._shrinkAxes(t,n)})),r._applyClipRects(o),r._appendSeriesGroups(),r._createCrosshairCursor(),_.forEach((e=>{var{canvas:t}=e;h.push({left:t.left,right:t.width-t.right,top:t.top,bottom:t.height-t.bottom})})),r._scrollBar&&(t=r._argumentAxes[0].getTranslator().getBusinessRange(),"discrete"===t.axisType&&t.categories&&t.categories.length<=1||"discrete"!==t.axisType&&t.min===t.max?i=n=void 0:(i=t.minVisible,n=t.maxVisible),r._scrollBar.init(t,!r._argumentAxes[0].getOptions().valueMarginsEnabled).setPosition(i,n)),r._updateTracker(h),r._updateLegendPosition(e,a),r._applyPointMarkersAutoHiding(),r._renderSeries(e,s,a),r._renderer.unlock()},_updateLegendPosition:r.ZT,_createCrosshairCursor:r.ZT,_appendSeriesGroups:function(){this._seriesGroup.linkAppend(),this._labelsGroup.linkAppend(),this._appendAdditionalSeriesGroups()},_renderSeries:function(e,t,i){this._calculateSeriesLayout(e,t),this._renderSeriesElements(e,i)},_calculateSeriesLayout:function(e,t){e.hideLayoutLabels=this.layoutManager.needMoreSpaceForPanesCanvas(this._getLayoutTargets(),t)&&!this._themeManager.getOptions("adaptiveLayout").keepLabels,this._updateSeriesDimensions(e)},_getArgFilter:()=>()=>!0,_getValFilter:e=>()=>!0,_getPointsToAnimation(e){var t=this._getArgFilter();return e.map((e=>{var i=this._getValFilter(e);return e.getPoints().filter((e=>e.getOptions().visible&&t(e.argument)&&(i(e.getMinValue(!0))||i(e.getMaxValue(!0))))).length}))},_renderSeriesElements:function(e,t){var i,n,r=this.series,o=r.length,s=this._themeManager.getOptions("resolveLabelOverlapping"),a=this._getPointsToAnimation(r);for(i=0;i<o;i++)n=r[i],this._applyExtraSettings(n,e),n.draw(e.animate&&a[i]<=e.animationPointsLimit&&this._renderer.animationEnabled(),e.hideLayoutLabels,this._getLegendCallBack(n));"none"===s?this._adjustSeriesLabels(!1):this._locateLabels(s),this._renderTrackers(t),this._tracker.repairTooltip(),this._renderExtraElements(),this._clearCanvas(),this._seriesElementsDrawn=!0},_changesApplied(){this._seriesElementsDrawn&&(this._seriesElementsDrawn=!1,this._drawn(),this._renderCompleteHandler())},_locateLabels(e){this._resolveLabelOverlapping(e)},_renderExtraElements(){},_clearCanvas:function(){this._canvas=this.__originalCanvas},_resolveLabelOverlapping:function(e){var t;switch(e){case"stack":t=this._resolveLabelOverlappingStack;break;case"hide":t=this._resolveLabelOverlappingHide;break;case"shift":t=this._resolveLabelOverlappingShift}return(0,s.mf)(t)&&t.call(this)},_getVisibleSeries:function(){return(0,r.h3)(this.getAllSeries(),(function(e){return e.isVisible()}))},_resolveLabelOverlappingHide:function(){var e,t,i,n,r,o,s,a=[],l=this._getVisibleSeries();for(r=0;r<l.length;r++)for(s=l[r].getVisiblePoints(),o=0;o<s.length;o++)a.push.apply(a,s[o].getLabels());for(r=0;r<a.length;r++)if(e=a[r],e.isVisible())for(i=e.getBoundingRect(),o=r+1;o<a.length;o++)t=a[o],n=t.getBoundingRect(),Oe(i,n)&&t.draw(!1)},_cleanGroups:function(){this._stripsGroup.linkRemove().clear(),this._gridGroup.linkRemove().clear(),this._axesGroup.linkRemove().clear(),this._constantLinesGroup.clear(),this._stripLabelAxesGroup.linkRemove().clear(),this._labelsGroup.linkRemove().clear(),this._crosshairCursorGroup.linkRemove().clear(),this._scaleBreaksGroup.linkRemove().clear()},_allowLegendInsidePosition:()=>!1,_createLegend:function(){var e=Ce(this._legendDataField);this._legend=new u.D({renderer:this._renderer,widget:this,group:this._legendGroup,backgroundClass:"dxc-border",itemGroupClass:"dxc-item",titleGroupClass:"dxc-title",textField:e.textField,getFormatObject:e.getFormatObject,allowInsidePosition:this._allowLegendInsidePosition()}),this._updateLegend(),this._layout.add(this._legend)},_updateLegend:function(){var e=this._themeManager,t=e.getOptions("legend"),i=this._getLegendData();t.containerBackgroundColor=e.getOptions("containerBackgroundColor"),t._incidentOccurred=this._incidentOccurred,this._legend.update(i,t,e.theme("legend").title),this._change(["LAYOUT"])},_prepareDrawOptions:function(e){var t=this._getAnimationOptions(),i=(0,l.l)({},{force:!1,adjustAxes:!0,drawLegend:!0,drawTitle:!0,animate:t.enabled,animationPointsLimit:t.maxPointCountSupported},e,this.__renderOptions);return(0,s.$K)(i.recreateCanvas)||(i.recreateCanvas=i.adjustAxes&&i.drawLegend&&i.drawTitle),i},_processRefreshData:function(e){var t=ae.indexOf(this._currentRefreshData),i=ae.indexOf(e);(!this._currentRefreshData||t>=0&&i<t)&&(this._currentRefreshData=e),this._requestChange(["REFRESH"])},_getLegendData:function(){return(0,S.UI)(this._getLegendTargets(),(function(e){var t=e.legendData,i=e.getLegendStyles,n=i.normal.opacity;e.visible||((!(0,s.$K)(n)||n>le)&&(n=le),t.textOpacity=le);var r={opacity:n};return t.states={hover:(0,l.l)({},i.hover,r),selection:(0,l.l)({},i.selection,r),normal:(0,l.l)({},i.normal,r)},t}))},_getLegendOptions:function(e){return{legendData:{text:e[this._legendItemTextField],id:e.index,visible:!0},getLegendStyles:e.getLegendStyles(),visible:e.isVisible()}},_disposeSeries(e){var t;this.series&&((0,s.$K)(e)?(this.series[e].dispose(),this.series.splice(e,1)):((0,a.S6)(this.series,((e,t)=>t.dispose())),this.series.length=0)),null!==(t=this.series)&&void 0!==t&&t.length||(this.series=[])},_disposeSeriesFamilies(){(0,a.S6)(this.seriesFamilies||[],(function(e,t){t.dispose()})),this.seriesFamilies=null,this._needHandleRenderComplete=!0},_optionChanged:function(e){this._themeManager.resetOptions(e.name),this.callBase.apply(this,arguments)},_applyChanges(){this._themeManager.update(this._options.silent()),this.callBase.apply(this,arguments)},_optionChangesMap:{animation:"ANIMATION",dataSource:"DATA_SOURCE",palette:"PALETTE",paletteExtensionMode:"PALETTE",legend:"FORCE_DATA_INIT",seriesTemplate:"FORCE_DATA_INIT",export:"FORCE_RENDER",valueAxis:"AXES_AND_PANES",argumentAxis:"AXES_AND_PANES",commonAxisSettings:"AXES_AND_PANES",panes:"AXES_AND_PANES",commonPaneSettings:"AXES_AND_PANES",defaultPane:"AXES_AND_PANES",containerBackgroundColor:"AXES_AND_PANES",rotated:"ROTATED",autoHidePointMarkers:"REFRESH_SERIES_REINIT",customizePoint:"REFRESH_SERIES_REINIT",customizeLabel:"REFRESH_SERIES_REINIT",scrollBar:"SCROLL_BAR"},_optionChangesOrder:["ROTATED","PALETTE","REFRESH_SERIES_REINIT","USE_SPIDER_WEB","AXES_AND_PANES","INIT","REINIT","DATA_SOURCE","REFRESH_SERIES_DATA_INIT","DATA_INIT","FORCE_DATA_INIT","REFRESH_AXES","CORRECT_AXIS"],_customChangesOrder:["ANIMATION","REFRESH_SERIES_FAMILIES","FORCE_FIRST_DRAWING","FORCE_DRAWING","FORCE_RENDER","VISUAL_RANGE","SCROLL_BAR","REINIT","REFRESH","FULL_RENDER"],_change_ANIMATION:function(){this._renderer.updateAnimationOptions(this._getAnimationOptions())},_change_DATA_SOURCE:function(){this._needHandleRenderComplete=!0,this._updateDataSource()},_change_PALETTE:function(){this._themeManager.updatePalette(),this._refreshSeries("DATA_INIT")},_change_REFRESH_SERIES_DATA_INIT:function(){this._refreshSeries("DATA_INIT")},_change_DATA_INIT:function(){this.series&&!this.needToPopulateSeries||this._changes.has("FORCE_DATA_INIT")||this._dataInit()},_change_FORCE_DATA_INIT:function(){this._dataInit()},_change_REFRESH_SERIES_FAMILIES:function(){this._processSeriesFamilies(),this._populateBusinessRange(),this._processRefreshData(oe)},_change_FORCE_RENDER:function(){this._processRefreshData(oe)},_change_AXES_AND_PANES:function(){this._refreshSeries("INIT")},_change_ROTATED:function(){this._createScrollBar(),this._refreshSeries("INIT")},_change_REFRESH_SERIES_REINIT:function(){this._refreshSeries("INIT")},_change_REFRESH_AXES(){(0,S.Oy)(this._canvas),this._reinitAxes(),this._requestChange(["CORRECT_AXIS","FULL_RENDER"])},_change_SCROLL_BAR:function(){this._createScrollBar(),this._processRefreshData(oe)},_change_REINIT:function(){this._processRefreshData(ie)},_change_FORCE_DRAWING:function(){this._resetComponentsAnimation()},_change_FORCE_FIRST_DRAWING:function(){this._resetComponentsAnimation(!0)},_resetComponentsAnimation:function(e){this.series.forEach((t=>{t.resetApplyingAnimation(e)})),this._resetAxesAnimation(e)},_resetAxesAnimation:r.ZT,_refreshSeries:function(e){this.needToPopulateSeries=!0,this._requestChange([e])},_change_CORRECT_AXIS(){this._correctAxes()},_doRefresh:function(){var e=this._currentRefreshData;e&&(this._currentRefreshData=null,this._renderer.stopAllAnimations(!0),this[e]())},_updateCanvasClipRect:function(e){var t=Math.max(e.width-e.left-e.right,0),i=Math.max(e.height-e.top-e.bottom,0);this._canvasClipRect.attr({x:e.left,y:e.top,width:t,height:i}),this._backgroundRect.attr({x:e.left,y:e.top,width:t,height:i})},_getCanvasClipRectID:function(){return this._canvasClipRect.id},_dataSourceChangedHandler:function(){this._changes.has("INIT")?this._requestChange(["DATA_INIT"]):this._requestChange(["FORCE_DATA_INIT"])},_dataInit:function(){this._dataSpecificInit(!0)},_processSingleSeries:function(e){e.createPoints(!1)},_handleSeriesDataUpdated(){this._getVisibleSeries().some((e=>e.useAggregation()))&&this._populateMarginOptions(),this.series.forEach((e=>this._processSingleSeries(e)),this)},_dataSpecificInit(e){this.series&&!this.needToPopulateSeries||(this.series=this._populateSeries()),this._repopulateSeries(),this._seriesPopulatedHandlerCore(),this._populateBusinessRange(),this._tracker.updateSeries(this.series,this._changes.has("INIT")),this._updateLegend(),e&&this._requestChange(["FULL_RENDER"])},_forceRender:function(){this._doRender({force:!0})},_repopulateSeries:function(){var e=this._themeManager,t=this._dataSourceItems(),i=e.getOptions("dataPrepareSettings"),n=e.getOptions("seriesTemplate");n&&this._populateSeries(t),this._groupSeries();var r=(0,c.P)(t,this._groupsData,this._incidentOccurred,i);e.resetPalette(),this.series.forEach((function(e){e.updateData(r[e.getArgumentField()])})),this._handleSeriesDataUpdated()},_renderCompleteHandler:function(){var e=!0;this._needHandleRenderComplete&&((0,a.S6)(this.series,(function(t,i){e=e&&i.canRenderCompleteHandle()})),e&&(this._needHandleRenderComplete=!1,this._eventTrigger("done",{target:this})))},_dataIsReady:function(){return(0,s.$K)(this.option("dataSource"))&&this._dataIsLoaded()},_populateSeriesOptions(e){for(var t,i,n=this,r=n._themeManager,o=r.getOptions("seriesTemplate"),a=o?(0,S.Fc)(o,e||[]):n.option("series"),h=te(a)?a:a?[a]:[],_=n._getExtraOptions(),u=[],c=e=>{n._specialProcessSeries(),n._populateBusinessRange(e&&e.getValueAxis(),!0),n._renderer.stopAllAnimations(!0),n._updateLegend(),n._requestChange(["FULL_RENDER"])},d=0;d<h.length;d++)t=(0,l.l)(!0,{},h[d],_),(0,s.$K)(t.name)&&""!==t.name||(t.name="Series "+(d+1).toString()),t.rotated=n._isRotated(),t.customizePoint=r.getOptions("customizePoint"),t.customizeLabel=r.getOptions("customizeLabel"),t.visibilityChanged=c,t.incidentOccurred=n._incidentOccurred,i=r.getOptions("series",t,h.length),n._checkPaneName(i)&&u.push(i);return u},_populateSeries(e){var t,i,n=this,r=[],o=n._incidentOccurred,s=n._populateSeriesOptions(e),h=!1;n.needToPopulateSeries=!1,(0,a.S6)(s,((e,t)=>{var i=n.series&&n.series.filter((e=>e.name===t.name&&-1===r.map((e=>e.series)).indexOf(e)))[0];i&&i.type===t.type?r.push({series:i,options:t}):(r.push({options:t}),h=!0)})),0!==(null===(t=n.series)||void 0===t?void 0:t.length)&&n._tracker.clearHover(),(0,a.iY)(n.series,((e,t)=>{r.some((e=>t===e.series))||(n._disposeSeries(e),h=!0)})),!h&&(h=r.some((e=>e.series.name!==s[e.series.index].name))),n.series=[],h&&n._disposeSeriesFamilies(),n._themeManager.resetPalette();var _=function(e){n.series.forEach((function(t){t.notify(e)}))};return(0,a.S6)(r,((e,t)=>{var r,s,a=t.options,h=null!==(r=null===(s=n._argumentAxes)||void 0===s?void 0:s.filter((e=>e.pane===a.pane))[0])&&void 0!==r?r:n.getArgumentAxis(),u={commonSeriesModes:n._getSelectionModes(),argumentAxis:h,valueAxis:n._getValueAxis(a.pane,a.axis)};t.series?(i=t.series,i.updateOptions(a,u)):i=new d.F((0,l.l)({renderer:n._renderer,seriesGroup:n._seriesGroup,labelsGroup:n._labelsGroup,eventTrigger:n._eventTrigger,eventPipe:_,incidentOccurred:o},u),a),i.isUpdated?(i.index=n.series.length,n.series.push(i)):o("E2101",[a.type])})),n.series},getStackedPoints:function(e){var t=e.series.getStackName();return this._getVisibleSeries().reduce(((i,n)=>((0,s.$K)(n.getStackName())&&(0,s.$K)(t)&&t!==n.getStackName()||(i=i.concat(n.getPointsByArg(e.argument))),i)),[])},getAllSeries:function(){return(this.series||[]).slice()},getSeriesByName:function(e){var t=null;return(0,a.S6)(this.series,(function(i,n){if(n.name===e)return t=n,!1})),t},getSeriesByPos:function(e){return(this.series||[])[e]},clearSelection:function(){this._tracker.clearSelection()},hideTooltip:function(){this._tracker._hideTooltip()},clearHover(){this._tracker.clearHover()},render:function(e){var t=this;return t.__renderOptions=e,t.__forceRender=e&&e.force,t.callBase.apply(t,arguments),t.__renderOptions=t.__forceRender=null,t},refresh:function(){this._disposeSeries(),this._disposeSeriesFamilies(),this._requestChange(["CONTAINER_SIZE","REFRESH_SERIES_REINIT"])},_getMinSize(){var e=this._layoutManagerOptions();return[e.width,e.height]},_change_REFRESH(){this._changes.has("INIT")?this._currentRefreshData=null:this._doRefresh()},_change_FULL_RENDER(){this._forceRender()},_change_INIT(){this._reinit()},_stopCurrentHandling:function(){this._tracker.stopCurrentHandling()}});he.forEach((function(e){be.prototype._optionChangesMap[e]="REFRESH_SERIES_DATA_INIT"})),ue.forEach((function(e){be.prototype._optionChangesMap[e]="FORCE_RENDER"})),_e.forEach((function(e){be.prototype._optionChangesMap[e]="REFRESH_SERIES_FAMILIES"})),be.addPlugin(j.BA),be.addPlugin(W.B),be.addPlugin(J.B),be.addPlugin(Q.B),be.addPlugin(ee.B);var ke=be.prototype._change_TITLE;be.prototype._change_TITLE=function(){ke.apply(this,arguments),this._change(["FORCE_RENDER"])}},13137:function(e,t,i){i.d(t,{n:function(){return S}});var n=i(9783),r=i(74721),o=i(24729),{floor:s,sqrt:a}=Math,l=Math.min,h=Math.max,_=.5,u=r.Z.radialLabelIndent;function c(e,t,i){var n;return n=i<e?e:t<i?t:i,n}function d(e){if(e._label.isVisible()&&"inside"!==e._label.getLayoutOptions().position)return e._label.getBoundingRect()}function p(e,t,i,n,r){return e.some((function(e){return e.getVisiblePoints().reduce((function(e,o){var s=d(o);if(s){var a=c(s.x,s.x+s.width,t),_=c(s.y,s.y+s.height,i);n=l(h(v(a,_,t,i)-u,r),n),e=!0}return e}),!1)})),n}function g(e){return e.reduce((function(e,t){var i=t.getVisiblePoints().reduce((function(e,t){var i=d(t);return i&&i.width>e&&(e=i.width),e}),0),n=i;return i&&(e.outerLabelsCount++,e.outerLabelsCount>1&&(i+=r.Z.pieLabelSpacing),n+=r.Z.pieLabelSpacing),e.sizes.push(i),e.rSizes.push(n),e.common+=i,e}),{sizes:[],rSizes:[],common:0,outerLabelsCount:0})}function f(e,t,i,n,r,o){var a,l,h=0,_=e.sizes,u=e.rSizes;for(l=0;l<i.length;l++)0!==_[l]?(a=s(a?a+u[l-1]:t),i[l].correctLabelRadius(a),h+=r||_[l],u[l]=r||u[l],i[l].setVisibleArea({left:s(o-t-h),right:s(n.width-(o+t+h)),top:n.top,bottom:n.bottom,width:n.width,height:n.height})):a&&(a+=u[l-1])}function v(e,t,i,n){return a((e-i)*(e-i)+(t-n)*(t-n))}function m(e){var{type:t,innerRadius:i}=e;return"pie"===t?0:(0,n.kE)(i)?Number(i):_}function S(){}function A(e,t,i,n){return(e-t-u-i.left)/n.outerLabelsCount}function T(e,t,i){return e-t.left-(i.outerLabelsCount>0?i.common+u:0)}function E(e,t,i,n,r,o){var s,a=g(i),h=T(r,t,a);return h<n?(e=n,s=A(r,e,t,a)):e=l(p(i,r,o,e,n),h),f(a,e+u,i,t,s,r),e}function R(e){return new o.t(null,{x:e.left,y:e.top,width:e.width-e.left-e.right,height:e.height-e.top-e.bottom})}S.prototype={constructor:S,setOptions:function(e){this._options=e},applyPieChartSeriesLayout:function(e,t,i){var r,o,a=e.height-e.top-e.bottom,h=e.width-e.left-e.right,_=h/2+e.left,u=a/2+e.top,c=this._options.piePercentage;return(0,n.kE)(c)?r=o=c*l(e.height,e.width)/2:(r=l(h,a)/2,o=this._options.minPiePercentage*r),i||(r=E(r,e,t,o,_,u)),{centerX:s(_),centerY:s(u),radiusInner:s(r*m(t[0])),radiusOuter:s(r)}},applyEqualPieChartLayout:function(e,t){var i=t.radius;return{centerX:s(t.x),centerY:s(t.y),radiusInner:s(i*m(e[0])),radiusOuter:s(i)}},correctPieLabelRadius:function(e,t,i){var n,r=g(e),o=t.radiusOuter+u,s=t.centerX-i.left-o;r.common+u>s&&(n=A(t.centerX,t.radiusOuter,i,r)),f(r,o,e,i,n,t.centerX)},needMoreSpaceForPanesCanvas(e,t,i){var r=this._options,o=r.width,s=r.height,a=r.piePercentage,_=(0,n.kE)(a),u=0,c=0;return e.forEach((e=>{var n=e.canvas,r=_?l(n.width,n.height)*a:void 0,d=i?i(e):{width:!1,height:!1},p=d.width?0:(_?r:o)-(n.width-n.left-n.right),g=d.height?0:(_?r:s)-(n.height-n.top-n.bottom);t?(u+=p>0?p:0,c=h(g>0?g:0,c)):(u=h(p>0?p:0,u),c+=g>0?g:0)})),(u>0||c>0)&&{width:u,height:c}},layoutInsideLegend:function(e,t){var i=e.getLayoutOptions();if(i){var n=i.position,r=i.cutSide,o={horizontal:n.horizontal,vertical:n.vertical};t[i.cutLayoutSide]+="horizontal"===i.cutSide?i.width:i.height,o[r]={left:"right",right:"left",top:"bottom",bottom:"top",center:"center"}[o[r]],e.position({of:R(t),my:o,at:n})}}}},81395:function(e,t,i){i.d(t,{G:function(){return y}});var n=i(33158),r=i(9783),o=i(53151),s=i(72602),a=i(77344),l=i(89889),h=i(12901),_=i(63632),u=i(84518),c=i(66487),d=n["default"].getDocument,p="annotations",g="."+p,f=(0,u.V4)([h.Z.down,h.Z.move],p),v=(0,u.V4)(h.Z.up,p),m=_.BL+g,S=_.pB+g,A=_.ut+g;function T(e,t){return{draw:function(i,n){var r=i._renderer.g().append(n).css((0,a.FI)(e.font));this.plaque&&this.plaque.clear(),this.plaque=new l.b((0,s.l)(!0,{},e,{cornerRadius:(e.border||{}).cornerRadius}),i,r,t,i._isAnnotationBounded(e)),this.plaque.draw(i._getAnnotationCoords(this)),e.allowDragging&&r.on(m,{immediate:!0},(e=>{this._dragOffsetX=this.plaque.x-e.pageX,this._dragOffsetY=this.plaque.y-e.pageY})).on(S,(e=>{this.plaque.move(e.pageX+this._dragOffsetX,e.pageY+this._dragOffsetY)})).on(A,(e=>{this.offsetX=(this.offsetX||0)+e.offset.x,this.offsetY=(this.offsetY||0)+e.offset.y}))},hitTest(e,t){return this.plaque.hitTest(e,t)},showTooltip(e,t){var{x:i,y:n}=t,r=this,o=r.options;if(e.annotation!==r){e.setTemplate(o.tooltipTemplate);var s=t=>{t&&(e.annotation=r)};s(e.show(o,{x:i,y:n},{target:o},o.customizeTooltip,s))}else e.isCursorOnTooltip(i,n)||e.move(i,n)}}}function E(e,t){var i;return"text"===e.type?i=function(e,i){var n=t._renderer.text(e.text).attr({class:e.cssClass}).append({element:i});(e.width>0||e.height>0)&&n.setMaxSize(e.width,e.height,{wordWrap:e.wordWrap,textOverflow:e.textOverflow})}:"image"===e.type?i=function(e,i){var{width:n,height:r,url:o,location:s}=e.image||{},{width:a,height:l}=e,h=a>0?Math.min(n,a):n,_=l>0?Math.min(r,l):r;t._renderer.image(0,0,h,_,o,s||"center").append({element:i})}:"custom"===e.type&&(i=e.template),i}function R(e){return"string"===typeof e?{url:e}:e}var C=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=R(i.image);return t.reduce(((t,l)=>{var h=R(l.image),_=(0,r.mf)(n)?n(l):{};_&&(_.image=R(_.image));var u=(0,s.l)(!0,{},i,l,{image:a},{image:h},_),c=E(u,e),d=c&&(0,s.l)(!0,o(u),T(u,e._getTemplate(c)));return d&&t.push(d),t}),[])},O={name:"annotations_chart",init(){},dispose(){},members:{_getAnnotationCoords(e){var t,i,n,o,s={offsetX:e.offsetX,offsetY:e.offsetY},a=this._options.silent("rotated")?"y":"x",l=this._options.silent("rotated")?"x":"y",h=this.getArgumentAxis(),_=h.validateUnit(e.argument),u=this.getValueAxis(e.axis),c=null===(t=u)||void 0===t?void 0:t.pane;e.series&&(n=this.series.filter((t=>t.name===e.series))[0],u=null===(o=n)||void 0===o?void 0:o.getValueAxis(),(0,r.$K)(u)&&(c=u.pane));if((0,r.$K)(_)){if(n){var d=n.getPointCenterByArg(_);d&&(s[a]=d[a])}else s[a]=h.getTranslator().translate(_);!(0,r.$K)(c)&&(c=h.pane)}var p,g,f=null===(i=u)||void 0===i?void 0:i.validateUnit(e.value);(0,r.$K)(f)&&(s[l]=null===(p=u)||void 0===p?void 0:p.getTranslator().translate(f),!(0,r.$K)(c)&&(0,r.$K)(u)&&(c=u.pane));(s.canvas=this._getCanvasForPane(c),(0,r.$K)(s[a])&&!(0,r.$K)(f))&&((0,r.$K)(u)||(0,r.$K)(n)?(0,r.$K)(u)&&!(0,r.$K)(n)?s[l]=this._argumentAxes.filter((e=>e.pane===u.pane))[0].getAxisPosition():null!==(g=n)&&void 0!==g&&g.checkSeriesViewportCoord(h,s[a])&&(s[l]=n.getSeriesPairCoord(s[a],!0)):s[l]=h.getAxisPosition());return!(0,r.$K)(_)&&(0,r.$K)(s[l])&&((0,r.$K)(u)&&!(0,r.$K)(n)?s[a]=u.getAxisPosition():(0,r.$K)(n)&&n.checkSeriesViewportCoord(u,s[l])&&(s[a]=n.getSeriesPairCoord(s[l],!1))),s},_annotationsPointerEventHandler(e){if(!this._disposed){var t=e.originalEvent||{},i=t.touches&&t.touches[0]||{},n=this._renderer.getRootOffset(),r={x:i.pageX||t.pageX||e.pageX,y:i.pageY||t.pageY||e.pageY},o=this._annotations.items.filter((e=>e.hitTest(r.x-n.left,r.y-n.top)))[0];o&&o.options.tooltipEnabled?(this._clear(),o.options.allowDragging&&e.type===h.Z.down&&(this._annotations._hideToolTipForDrag=!0),this._annotations._hideToolTipForDrag||(o.showTooltip(this._annotations.tooltip,r),e.stopPropagation())):this._annotations.hideTooltip()}},_isAnnotationBounded:e=>(0,r.$K)(e.value)||(0,r.$K)(e.argument),_pullOptions:e=>({type:e.type,name:e.name,x:e.x,y:e.y,value:e.value,argument:e.argument,axis:e.axis,series:e.series,options:e,offsetX:e.offsetX,offsetY:e.offsetY}),_forceAnnotationRender(){this._change(["FORCE_RENDER"])},_clear(){this.hideTooltip(),this.clearHover()}}},x={name:"annotations_polar_chart",init(){},dispose(){},members:{_getAnnotationCoords(e){var t,i,n={offsetX:e.offsetX,offsetY:e.offsetY,canvas:this._calcCanvas()},o=this.getArgumentAxis(),a=o.validateUnit(e.argument),l=this.getValueAxis().validateUnit(e.value),h=e.radius,_=e.angle;return e.series&&(i=this.series.filter((t=>t.name===e.series))[0]),(0,s.l)(!0,n,this.getXYFromPolar(_,h,a,l)),(0,r.$K)(i)&&(!(0,r.$K)(n.angle)||(0,r.$K)(l)||(0,r.$K)(h)?!(0,r.$K)(n.radius)||(0,r.$K)(a)||(0,r.$K)(_)||(t=i.getSeriesPairCoord({radius:n.radius},!1)):((0,r.$K)(a)||(a=o.getTranslator().from(isFinite(_)?this.getActualAngle(_):n.angle)),t=i.getSeriesPairCoord({argument:a,angle:-n.angle},!0)),(0,r.$K)(t)&&(n.x=t.x,n.y=t.y)),e.series&&!(0,r.$K)(t)&&(n.x=n.y=void 0),n},_annotationsPointerEventHandler:O.members._annotationsPointerEventHandler,_isAnnotationBounded:O.members._isAnnotationBounded,_pullOptions(e){var t=(0,s.l)({},{radius:e.radius,angle:e.angle},O.members._pullOptions(e));return delete t.axis,t},_forceAnnotationRender:O.members._forceAnnotationRender,_clear:O.members._clear}},b={name:"annotations_vector_map",init(){},dispose(){this._annotations._offTracker(),this._annotations._offTracker=null},members:{_getAnnotationCoords(e){var t={offsetX:e.offsetX,offsetY:e.offsetY};if(t.canvas=this._projection.getCanvas(),e.coordinates){var i=this._projection.toScreenPoint(e.coordinates);t.x=i[0],t.y=i[1]}return t},_annotationsPointerEventHandler:O.members._annotationsPointerEventHandler,_isAnnotationBounded:e=>(0,r.$K)(e.coordinates),_pullOptions(e){var t=(0,s.l)({},{coordinates:e.coordinates},O.members._pullOptions(e));return delete t.axis,delete t.series,delete t.argument,delete t.value,t},_forceAnnotationRender(){this._change(["EXTRA_ELEMENTS"])},_getAnnotationStyles:()=>({"text-anchor":"start"}),_clear(){}},extenders:{_prepareExtraElements(){var e=this,t=()=>{e._renderExtraElements()};e._annotations._offTracker=e._tracker.on({move:t,zoom:t,end:t})}}},k={name:"annotations_pie_chart",init(){},dispose(){},members:{_getAnnotationCoords(e){var t,i={offsetX:e.offsetX,offsetY:e.offsetY,canvas:this._canvas};if(e.argument){t=e.series?this.getSeriesByName(e.series):this.series[0];var n=t.getPointsByArg(e.argument)[0],{x:r,y:o}=n.getAnnotationCoords(e.location);i.x=r,i.y=o}return i},_isAnnotationBounded:e=>e.argument,_annotationsPointerEventHandler:O.members._annotationsPointerEventHandler,_pullOptions(e){var t=(0,s.l)({},{location:e.location},O.members._pullOptions(e));return delete t.axis,t},_clear:O.members._clear,_forceAnnotationRender:O.members._forceAnnotationRender}},I={name:"annotations_core",init(){this._annotations={items:[],_hideToolTipForDrag:!1,tooltip:new o.u({cssClass:"".concat(this._rootClassPrefix,"-annotation-tooltip"),eventTrigger:this._eventTrigger,widgetRoot:this.element(),widget:this}),hideTooltip(){this.tooltip.annotation=null,this.tooltip.hide()},clearItems(){this.items.forEach((e=>e.plaque.clear())),this.items=[]}},this._annotations.tooltip.setRendererOptions(this._getRendererOptions())},dispose(){this._annotationsGroup.linkRemove().linkOff(),c.Z.off(d(),g),this._annotationsGroup.off(g),this._annotations.tooltip&&this._annotations.tooltip.dispose()},extenders:{_createHtmlStructure(){this._annotationsGroup=this._renderer.g().attr({class:"".concat(this._rootClassPrefix,"-annotations")}).css(this._getAnnotationStyles()).linkOn(this._renderer.root,"annotations").linkAppend(),c.Z.on(d(),f,(e=>{this._disposed||this._annotations.tooltip.isCursorOnTooltip(e.pageX,e.pageY)||this._annotations.hideTooltip()})),c.Z.on(d(),v,(e=>{this._annotations._hideToolTipForDrag=!1,this._annotationsPointerEventHandler(e)})),this._annotationsGroup.on(f,this._annotationsPointerEventHandler.bind(this))},_renderExtraElements(){this._annotationsGroup.clear(),this._annotations.items.forEach((e=>e.draw(this,this._annotationsGroup)))},_stopCurrentHandling(){this._annotations.hideTooltip()}},members:{_buildAnnotations(){this._annotations.clearItems();var e=this._getOption("annotations",!0);null!==e&&void 0!==e&&e.length&&(this._annotations.items=C(this,e,this._getOption("commonAnnotationSettings"),this._getOption("customizeAnnotation",!0),this._pullOptions))},_setAnnotationTooltipOptions(){var e=(0,s.l)({},this._getOption("tooltip"));e.contentTemplate=e.customizeTooltip=void 0,this._annotations.tooltip.update(e)},_getAnnotationCoords:()=>({}),_pullOptions:()=>({}),_getAnnotationStyles:()=>({})},customize(e){e.addChange({code:"ANNOTATIONITEMS",handler(){this._requestChange(["ANNOTATIONS"])},isOptionChange:!0,option:"annotations"}),e.addChange({code:"ANNOTATIONSSETTINGS",handler(){this._requestChange(["ANNOTATIONS"])},isOptionChange:!0,option:"commonAnnotationSettings"}),e.addChange({code:"ANNOTATIONS",handler(){this._buildAnnotations(),this._setAnnotationTooltipOptions(),this._forceAnnotationRender()},isThemeDependent:!0,isOptionChange:!0})},fontFields:["commonAnnotationSettings.font"]},y={core:I,chart:O,polarChart:x,vectorMap:b,pieChart:k}}}]);