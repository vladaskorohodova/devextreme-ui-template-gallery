"use strict";(self["webpackChunkvue_ui_teplate_gallery"]=self["webpackChunkvue_ui_teplate_gallery"]||[]).push([[3493],{43493:function(t,e,n){
/*!
 * devextreme-vue
 * Version: 22.2.1-alpha-22313-0309
 * Build date: Wed Nov 09 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */
var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DxVectorMapTitleSubtitle=e.DxVectorMapTitle=e.DxTooltipBorder=e.DxTooltip=e.DxTitle=e.DxSubtitle=e.DxSource=e.DxSize=e.DxShadow=e.DxProjection=e.DxMargin=e.DxLoadingIndicator=e.DxLegendTitleSubtitle=e.DxLegendTitle=e.DxLegend=e.DxLayer=e.DxLabel=e.DxImage=e.DxFormat=e.DxFont=e.DxExport=e.DxControlBar=e.DxCommonAnnotationSettings=e.DxBorder=e.DxBackground=e.DxAnnotationBorder=e.DxAnnotation=e.DxVectorMap=void 0;var i=o(n(36535)),r=n(35535),a=n(35535),l=r.createComponent({props:{annotations:Array,background:Object,bounds:Array,center:Array,commonAnnotationSettings:Object,controlBar:Object,customizeAnnotation:Function,disabled:Boolean,elementAttr:Object,export:Object,layers:[Array,Object],legends:Array,loadingIndicator:Object,maxZoomFactor:Number,onCenterChanged:Function,onClick:Function,onDisposing:Function,onDrawn:Function,onExported:Function,onExporting:Function,onFileSaving:Function,onIncidentOccurred:Function,onInitialized:Function,onOptionChanged:Function,onSelectionChanged:Function,onTooltipHidden:Function,onTooltipShown:Function,onZoomFactorChanged:Function,panningEnabled:Boolean,pathModified:Boolean,projection:[Object,String],redrawOnResize:Boolean,rtlEnabled:Boolean,size:Object,theme:String,title:[Object,String],tooltip:Object,touchEnabled:Boolean,wheelEnabled:Boolean,zoomFactor:Number,zoomingEnabled:Boolean},emits:{"update:isActive":null,"update:hoveredElement":null,"update:annotations":null,"update:background":null,"update:bounds":null,"update:center":null,"update:commonAnnotationSettings":null,"update:controlBar":null,"update:customizeAnnotation":null,"update:disabled":null,"update:elementAttr":null,"update:export":null,"update:layers":null,"update:legends":null,"update:loadingIndicator":null,"update:maxZoomFactor":null,"update:onCenterChanged":null,"update:onClick":null,"update:onDisposing":null,"update:onDrawn":null,"update:onExported":null,"update:onExporting":null,"update:onFileSaving":null,"update:onIncidentOccurred":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onSelectionChanged":null,"update:onTooltipHidden":null,"update:onTooltipShown":null,"update:onZoomFactorChanged":null,"update:panningEnabled":null,"update:pathModified":null,"update:projection":null,"update:redrawOnResize":null,"update:rtlEnabled":null,"update:size":null,"update:theme":null,"update:title":null,"update:tooltip":null,"update:touchEnabled":null,"update:wheelEnabled":null,"update:zoomFactor":null,"update:zoomingEnabled":null},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=i.default,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={annotation:{isCollectionItem:!0,optionName:"annotations"},background:{isCollectionItem:!1,optionName:"background"},commonAnnotationSettings:{isCollectionItem:!1,optionName:"commonAnnotationSettings"},controlBar:{isCollectionItem:!1,optionName:"controlBar"},export:{isCollectionItem:!1,optionName:"export"},layer:{isCollectionItem:!0,optionName:"layers"},legend:{isCollectionItem:!0,optionName:"legends"},loadingIndicator:{isCollectionItem:!1,optionName:"loadingIndicator"},projection:{isCollectionItem:!1,optionName:"projection"},size:{isCollectionItem:!1,optionName:"size"},title:{isCollectionItem:!1,optionName:"title"},tooltip:{isCollectionItem:!1,optionName:"tooltip"},vectorMapTitle:{isCollectionItem:!1,optionName:"title"}}}});e.DxVectorMap=l;var s=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowDragging":null,"update:arrowLength":null,"update:arrowWidth":null,"update:border":null,"update:color":null,"update:coordinates":null,"update:customizeTooltip":null,"update:data":null,"update:description":null,"update:font":null,"update:height":null,"update:image":null,"update:name":null,"update:offsetX":null,"update:offsetY":null,"update:opacity":null,"update:paddingLeftRight":null,"update:paddingTopBottom":null,"update:shadow":null,"update:template":null,"update:text":null,"update:textOverflow":null,"update:tooltipEnabled":null,"update:tooltipTemplate":null,"update:type":null,"update:width":null,"update:wordWrap":null,"update:x":null,"update:y":null},props:{allowDragging:Boolean,arrowLength:Number,arrowWidth:Number,border:Object,color:String,coordinates:Array,customizeTooltip:Function,data:{},description:String,font:Object,height:Number,image:[Object,String],name:String,offsetX:Number,offsetY:Number,opacity:Number,paddingLeftRight:Number,paddingTopBottom:Number,shadow:Object,template:{},text:String,textOverflow:String,tooltipEnabled:Boolean,tooltipTemplate:{},type:String,width:Number,wordWrap:String,x:Number,y:Number}});e.DxAnnotation=s,s.$_optionName="annotations",s.$_isCollectionItem=!0,s.$_expectedChildren={annotationBorder:{isCollectionItem:!1,optionName:"border"},border:{isCollectionItem:!1,optionName:"border"},font:{isCollectionItem:!1,optionName:"font"},image:{isCollectionItem:!1,optionName:"image"},shadow:{isCollectionItem:!1,optionName:"shadow"}};var u=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:cornerRadius":null,"update:dashStyle":null,"update:opacity":null,"update:visible":null,"update:width":null},props:{color:String,cornerRadius:Number,dashStyle:String,opacity:Number,visible:Boolean,width:Number}});e.DxAnnotationBorder=u,u.$_optionName="border";var c=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:borderColor":null,"update:color":null},props:{borderColor:String,color:String}});e.DxBackground=c,c.$_optionName="background";var d=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:cornerRadius":null,"update:dashStyle":null,"update:opacity":null,"update:visible":null,"update:width":null},props:{color:String,cornerRadius:Number,dashStyle:String,opacity:Number,visible:Boolean,width:Number}});e.DxBorder=d,d.$_optionName="border";var h=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowDragging":null,"update:arrowLength":null,"update:arrowWidth":null,"update:border":null,"update:color":null,"update:coordinates":null,"update:customizeTooltip":null,"update:data":null,"update:description":null,"update:font":null,"update:height":null,"update:image":null,"update:offsetX":null,"update:offsetY":null,"update:opacity":null,"update:paddingLeftRight":null,"update:paddingTopBottom":null,"update:shadow":null,"update:template":null,"update:text":null,"update:textOverflow":null,"update:tooltipEnabled":null,"update:tooltipTemplate":null,"update:type":null,"update:width":null,"update:wordWrap":null,"update:x":null,"update:y":null},props:{allowDragging:Boolean,arrowLength:Number,arrowWidth:Number,border:Object,color:String,coordinates:Array,customizeTooltip:Function,data:{},description:String,font:Object,height:Number,image:[Object,String],offsetX:Number,offsetY:Number,opacity:Number,paddingLeftRight:Number,paddingTopBottom:Number,shadow:Object,template:{},text:String,textOverflow:String,tooltipEnabled:Boolean,tooltipTemplate:{},type:String,width:Number,wordWrap:String,x:Number,y:Number}});e.DxCommonAnnotationSettings=h,h.$_optionName="commonAnnotationSettings";var p=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:borderColor":null,"update:color":null,"update:enabled":null,"update:horizontalAlignment":null,"update:margin":null,"update:opacity":null,"update:panVisible":null,"update:verticalAlignment":null,"update:zoomVisible":null},props:{borderColor:String,color:String,enabled:Boolean,horizontalAlignment:String,margin:Number,opacity:Number,panVisible:Boolean,verticalAlignment:String,zoomVisible:Boolean}});e.DxControlBar=p,p.$_optionName="controlBar";var m=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:backgroundColor":null,"update:enabled":null,"update:fileName":null,"update:formats":null,"update:margin":null,"update:printingEnabled":null,"update:proxyUrl":null,"update:svgToCanvas":null},props:{backgroundColor:String,enabled:Boolean,fileName:String,formats:Array,margin:Number,printingEnabled:Boolean,proxyUrl:String,svgToCanvas:Function}});e.DxExport=m,m.$_optionName="export";var _=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:family":null,"update:opacity":null,"update:size":null,"update:weight":null},props:{color:String,family:String,opacity:Number,size:[Number,String],weight:Number}});e.DxFont=_,_.$_optionName="font";var f=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:currency":null,"update:formatter":null,"update:parser":null,"update:precision":null,"update:type":null,"update:useCurrencyAccountingStyle":null},props:{currency:String,formatter:Function,parser:Function,precision:Number,type:String,useCurrencyAccountingStyle:Boolean}});e.DxFormat=f,f.$_optionName="format";var g=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:height":null,"update:url":null,"update:width":null},props:{height:Number,url:String,width:Number}});e.DxImage=g,g.$_optionName="image";var v=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataField":null,"update:enabled":null,"update:font":null},props:{dataField:String,enabled:Boolean,font:Object}});e.DxLabel=v,v.$_optionName="label",v.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"}};var b=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:borderColor":null,"update:borderWidth":null,"update:color":null,"update:colorGroupingField":null,"update:colorGroups":null,"update:customize":null,"update:dataField":null,"update:dataSource":null,"update:elementType":null,"update:hoveredBorderColor":null,"update:hoveredBorderWidth":null,"update:hoveredColor":null,"update:hoverEnabled":null,"update:label":null,"update:maxSize":null,"update:minSize":null,"update:name":null,"update:opacity":null,"update:palette":null,"update:paletteIndex":null,"update:paletteSize":null,"update:selectedBorderColor":null,"update:selectedBorderWidth":null,"update:selectedColor":null,"update:selectionMode":null,"update:size":null,"update:sizeGroupingField":null,"update:sizeGroups":null,"update:type":null},props:{borderColor:String,borderWidth:Number,color:String,colorGroupingField:String,colorGroups:Array,customize:Function,dataField:String,dataSource:{},elementType:String,hoveredBorderColor:String,hoveredBorderWidth:Number,hoveredColor:String,hoverEnabled:Boolean,label:Object,maxSize:Number,minSize:Number,name:String,opacity:Number,palette:[Array,String],paletteIndex:Number,paletteSize:Number,selectedBorderColor:String,selectedBorderWidth:Number,selectedColor:String,selectionMode:String,size:Number,sizeGroupingField:String,sizeGroups:Array,type:String}});e.DxLayer=b,b.$_optionName="layers",b.$_isCollectionItem=!0,b.$_expectedChildren={label:{isCollectionItem:!1,optionName:"label"}};var y=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:backgroundColor":null,"update:border":null,"update:columnCount":null,"update:columnItemSpacing":null,"update:customizeHint":null,"update:customizeItems":null,"update:customizeText":null,"update:font":null,"update:horizontalAlignment":null,"update:itemsAlignment":null,"update:itemTextPosition":null,"update:margin":null,"update:markerColor":null,"update:markerShape":null,"update:markerSize":null,"update:markerTemplate":null,"update:orientation":null,"update:paddingLeftRight":null,"update:paddingTopBottom":null,"update:rowCount":null,"update:rowItemSpacing":null,"update:source":null,"update:title":null,"update:verticalAlignment":null,"update:visible":null},props:{backgroundColor:String,border:Object,columnCount:Number,columnItemSpacing:Number,customizeHint:Function,customizeItems:Function,customizeText:Function,font:Object,horizontalAlignment:String,itemsAlignment:String,itemTextPosition:String,margin:[Number,Object],markerColor:String,markerShape:String,markerSize:Number,markerTemplate:{},orientation:String,paddingLeftRight:Number,paddingTopBottom:Number,rowCount:Number,rowItemSpacing:Number,source:Object,title:[Object,String],verticalAlignment:String,visible:Boolean}});e.DxLegend=y,y.$_optionName="legends",y.$_isCollectionItem=!0,y.$_expectedChildren={annotationBorder:{isCollectionItem:!1,optionName:"border"},border:{isCollectionItem:!1,optionName:"border"},font:{isCollectionItem:!1,optionName:"font"},legendTitle:{isCollectionItem:!1,optionName:"title"},margin:{isCollectionItem:!1,optionName:"margin"},source:{isCollectionItem:!1,optionName:"source"},title:{isCollectionItem:!1,optionName:"title"}};var C=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:font":null,"update:horizontalAlignment":null,"update:margin":null,"update:placeholderSize":null,"update:subtitle":null,"update:text":null,"update:verticalAlignment":null},props:{font:Object,horizontalAlignment:String,margin:Object,placeholderSize:Number,subtitle:[Object,String],text:String,verticalAlignment:String}});e.DxLegendTitle=C,C.$_optionName="title",C.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"},legendTitleSubtitle:{isCollectionItem:!1,optionName:"subtitle"},margin:{isCollectionItem:!1,optionName:"margin"},subtitle:{isCollectionItem:!1,optionName:"subtitle"}};var x=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:font":null,"update:offset":null,"update:text":null},props:{font:Object,offset:Number,text:String}});e.DxLegendTitleSubtitle=x,x.$_optionName="subtitle",x.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"}};var S=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:backgroundColor":null,"update:enabled":null,"update:font":null,"update:show":null,"update:text":null},props:{backgroundColor:String,enabled:Boolean,font:Object,show:Boolean,text:String}});e.DxLoadingIndicator=S,S.$_optionName="loadingIndicator",S.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"}};var N=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:bottom":null,"update:left":null,"update:right":null,"update:top":null},props:{bottom:Number,left:Number,right:Number,top:Number}});e.DxMargin=N,N.$_optionName="margin";var k=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:aspectRatio":null,"update:from":null,"update:to":null},props:{aspectRatio:Number,from:Function,to:Function}});e.DxProjection=k,k.$_optionName="projection";var O=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:blur":null,"update:color":null,"update:offsetX":null,"update:offsetY":null,"update:opacity":null},props:{blur:Number,color:String,offsetX:Number,offsetY:Number,opacity:Number}});e.DxShadow=O,O.$_optionName="shadow";var w=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:height":null,"update:width":null},props:{height:Number,width:Number}});e.DxSize=w,w.$_optionName="size";var z=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:grouping":null,"update:layer":null},props:{grouping:String,layer:String}});e.DxSource=z,z.$_optionName="source";var E=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:font":null,"update:offset":null,"update:text":null,"update:textOverflow":null,"update:wordWrap":null},props:{font:Object,offset:Number,text:String,textOverflow:String,wordWrap:String}});e.DxSubtitle=E,E.$_optionName="subtitle";var T=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:font":null,"update:horizontalAlignment":null,"update:margin":null,"update:placeholderSize":null,"update:subtitle":null,"update:text":null,"update:textOverflow":null,"update:verticalAlignment":null,"update:wordWrap":null},props:{font:Object,horizontalAlignment:String,margin:Object,placeholderSize:Number,subtitle:[Object,String],text:String,textOverflow:String,verticalAlignment:String,wordWrap:String}});e.DxTitle=T,T.$_optionName="title";var B=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:arrowLength":null,"update:border":null,"update:color":null,"update:container":null,"update:contentTemplate":null,"update:cornerRadius":null,"update:customizeTooltip":null,"update:enabled":null,"update:font":null,"update:format":null,"update:opacity":null,"update:paddingLeftRight":null,"update:paddingTopBottom":null,"update:shadow":null,"update:zIndex":null},props:{arrowLength:Number,border:Object,color:String,container:{},contentTemplate:{},cornerRadius:Number,customizeTooltip:Function,enabled:Boolean,font:Object,format:[Object,Function,String],opacity:Number,paddingLeftRight:Number,paddingTopBottom:Number,shadow:Object,zIndex:Number}});e.DxTooltip=B,B.$_optionName="tooltip",B.$_expectedChildren={border:{isCollectionItem:!1,optionName:"border"},font:{isCollectionItem:!1,optionName:"font"},format:{isCollectionItem:!1,optionName:"format"},shadow:{isCollectionItem:!1,optionName:"shadow"},tooltipBorder:{isCollectionItem:!1,optionName:"border"}};var j=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:dashStyle":null,"update:opacity":null,"update:visible":null,"update:width":null},props:{color:String,dashStyle:String,opacity:Number,visible:Boolean,width:Number}});e.DxTooltipBorder=j,j.$_optionName="border";var D=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:font":null,"update:horizontalAlignment":null,"update:margin":null,"update:placeholderSize":null,"update:subtitle":null,"update:text":null,"update:textOverflow":null,"update:verticalAlignment":null,"update:wordWrap":null},props:{font:Object,horizontalAlignment:String,margin:[Number,Object],placeholderSize:Number,subtitle:[Object,String],text:String,textOverflow:String,verticalAlignment:String,wordWrap:String}});e.DxVectorMapTitle=D,D.$_optionName="title",D.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"},margin:{isCollectionItem:!1,optionName:"margin"},subtitle:{isCollectionItem:!1,optionName:"subtitle"},vectorMapTitleSubtitle:{isCollectionItem:!1,optionName:"subtitle"}};var L=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:font":null,"update:offset":null,"update:text":null,"update:textOverflow":null,"update:wordWrap":null},props:{font:Object,offset:Number,text:String,textOverflow:String,wordWrap:String}});e.DxVectorMapTitleSubtitle=L,L.$_optionName="subtitle",L.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"}},e["default"]=l},36535:function(t,e,n){n.r(e),n.d(e,{default:function(){return Ho}});var o=n(77344),i=n(72602),r=n(7181),a={_initEvents:function(){var t,e=this._eventNames,n=e.length,o=this._events={};for(t=0;t<n;++t)o[e[t]]=(0,r["default"])()},_disposeEvents:function(){var t,e=this._events;for(t in e)e[t].empty();this._events=null},on:function(t){var e,n=this._events;for(e in t)n[e].add(t[e]);return function(){for(e in t)n[e].remove(t[e])}},_fire:function(t,e){this._events[t].fire(e)}};function l(t){var e,n=t.prototype;for(e in a)n[e]=a[e]}var s=Number,u=Math.min,c=Math.max,d=Math.abs,h=Math.round,p=Math.log,m=Math.pow,_=2/Math.LN2,f=1/3600/180/10,g=1,v=256,b=[NaN,NaN],y="mercator";function C(t,e){return d(t-e)<1e-8}function x(t,e){return C(t[0],e[0])&&C(t[1],e[1])}function S(t,e,n,o){var i=s(t);return isFinite(i)?u(c(i,e),n):o}function N(t,e,n,o){return[S(t[0],e[0],n[0],o[0]),S(t[1],e[1],n[1],o[1])]}function k(t){return t instanceof B&&t||M.get(t)||M(t)||M.get(y)}var O=function(t){this._initEvents(),this._params=t,this._engine=k(),this._center=this._engine.center(),this._adjustCenter()};function w(t,e,n,o){var i=(n+o)/2;return d(t-i)>d(e-i)?t:e}function z(t,e,n,o){var i=(n+o)/2;return d(t-i)<d(e-i)?t:e}function E(t,e,n){var o=t([n[0],n[3]]),i=t([n[0],n[1]]),r=t([n[2],n[3]]),a=t([n[2],n[1]]),l=z(o[0],i[0],r[0],a[0]),s=z(r[0],a[0],o[0],i[0]),u=z(o[1],r[1],i[1],a[1]),h=z(i[1],a[1],o[1],r[1]);return[2/c(d(l-s),d(u-h)),e([(l+s)/2,(u+h)/2])]}function T(t,e,n){var{min:o,max:i}=R(e,n);t.min=I(o),t.max=I(i)}O.prototype={constructor:O,_minZoom:g,_maxZoom:v,_zoom:g,_center:b,_canvas:{},_scale:[],dispose:function(){this._disposeEvents()},setEngine:function(t){var e=k(t);this._engine!==e&&(this._engine=e,this._fire("engine"),this._changeCenter(e.center())&&this._triggerCenterChanged(),this._changeZoom(this._minZoom)&&this._triggerZoomChanged(),this._adjustCenter(),this._setupScreen())},setBounds:function(t){void 0!==t&&this.setEngine(this._engine.original().bounds(t))},_setupScreen:function(){var t=this._canvas,e=t.width,n=t.height,o=this._engine,i=o.ar();this._x0=t.left+e/2,this._y0=t.top+n/2;var r,a=[this.project([o.min()[0],0])[0],this.project([0,o.min()[1]])[1]],l=[this.project([o.max()[0],0])[0],this.project([0,o.max()[1]])[1]],s=e/n,h=d(l[0]-a[0])/d(l[1]-a[1]);r=isNaN(h)||0===h||u(s,i)<=i*h&&i*h<=c(s,i)?1:h>1?h:1/h,i*h>=s?(this._xRadius=e/2/r,this._yRadius=e/2/(i*r)):(this._xRadius=n/2*(i/r),this._yRadius=n/2/r),this._fire("screen")},setSize:function(t){this._canvas=t,this._setupScreen()},getCanvas:function(){return this._canvas},_toScreen:function(t){return[this._x0+this._xRadius*t[0],this._y0+this._yRadius*t[1]]},_fromScreen:function(t){return[(t[0]-this._x0)/this._xRadius,(t[1]-this._y0)/this._yRadius]},_toTransformed:function(t){return[t[0]*this._zoom+this._xCenter,t[1]*this._zoom+this._yCenter]},_toTransformedFast:function(t){return[t[0]*this._zoom,t[1]*this._zoom]},_fromTransformed:function(t){return[(t[0]-this._xCenter)/this._zoom,(t[1]-this._yCenter)/this._zoom]},_adjustCenter:function(){var t=this._engine.project(this._center);this._xCenter=-t[0]*this._zoom||0,this._yCenter=-t[1]*this._zoom||0},project:function(t){return this._engine.project(t)},transform:function(t){return this._toScreen(this._toTransformedFast(t))},isInvertible:function(){return this._engine.isInvertible()},getSquareSize:function(t){return[t[0]*this._zoom*this._xRadius,t[1]*this._zoom*this._yRadius]},getZoom:function(){return this._zoom},_changeZoom:function(t){var e=this._zoom,n=this._zoom=S(t,this._minZoom,this._maxZoom,this._minZoom),o=!C(e,n);return o&&(this._adjustCenter(),this._fire("zoom")),o},setZoom:function(t){this._engine.isInvertible()&&this._changeZoom(t)&&this._triggerZoomChanged()},getScaledZoom:function(){return h((this._scale.length-1)*p(this._zoom)/p(this._maxZoom))},setScaledZoom:function(t){this.setZoom(this._scale[h(t)])},changeScaledZoom:function(t){this.setZoom(this._scale[c(u(h(this.getScaledZoom()+t),this._scale.length-1),0)])},getZoomScalePartition:function(){return this._scale.length-1},_setupScaling:function(){var t=c(h(_*p(this._maxZoom)),4),e=m(this._maxZoom,1/t),n=this._minZoom;this._scale=[n];for(var o=1;o<=t;++o)this._scale.push(n*=e)},setMaxZoom:function(t){this._minZoom=g,this._maxZoom=S(t,this._minZoom,s.MAX_VALUE,v),this._setupScaling(),this._zoom>this._maxZoom&&this.setZoom(this._maxZoom),this._fire("max-zoom")},getCenter:function(){return this._center.slice()},setCenter:function(t){this._engine.isInvertible()&&this._changeCenter(t||[])&&this._triggerCenterChanged()},_changeCenter:function(t){var e=this._engine,n=this._center,o=this._center=N(t,e.min(),e.max(),e.center()),i=!x(n,o);return i&&(this._adjustCenter(),this._fire("center")),i},_triggerCenterChanged:function(){this._params.centerChanged(this.getCenter())},_triggerZoomChanged:function(){this._params.zoomChanged(this.getZoom())},setCenterByPoint:function(t,e){var n=this._engine.project(t),o=this._fromScreen(e);this.setCenter(this._engine.unproject([-o[0]/this._zoom+n[0],-o[1]/this._zoom+n[1]]))},beginMoveCenter:function(){this._engine.isInvertible()&&(this._moveCenter=this._center)},endMoveCenter:function(){this._moveCenter&&(x(this._moveCenter,this._center)||this._triggerCenterChanged(),this._moveCenter=null)},moveCenter:function(t){if(this._moveCenter){var e=this.toScreenPoint(this._center);this._changeCenter(this.fromScreenPoint([e[0]+t[0],e[1]+t[1]]))}},getViewport:function(){var t=this._engine.unproject,e=t(this._fromTransformed([-1,-1])),n=t(this._fromTransformed([-1,1])),o=t(this._fromTransformed([1,-1])),i=t(this._fromTransformed([1,1])),r=R([w(e[0],n[0],o[0],i[0]),w(e[1],o[1],n[1],i[1])],[w(o[0],i[0],e[0],n[0]),w(n[1],i[1],e[1],o[1])]);return[].concat(r.min,r.max)},setViewport:function(t){var e=this._engine,n=t?E(e.project,e.unproject,t):[this._minZoom,e.center()];this.setZoom(n[0]),this.setCenter(n[1])},getTransform:function(){return{translateX:this._xCenter*this._xRadius,translateY:this._yCenter*this._yRadius}},fromScreenPoint:function(t){return this._engine.unproject(this._fromTransformed(this._fromScreen(t)))},toScreenPoint:function(t){return this._toScreen(this._toTransformed(this._engine.project(t)))},_eventNames:["engine","screen","center","zoom","max-zoom"]},l(O);var B=class{constructor(t){var e=D(t.to),n=t.from?L(t.from):A(b);this.project=e,this.unproject=n,this.original=A(this),this.source=function(){return(0,i.l)({},t)},this.isInvertible=A(!!t.from),this.ar=A(t.aspectRatio>0?s(t.aspectRatio):1),this.center=I(n([0,0])),T(this,[n([-1,0])[0],n([0,1])[1]],[n([1,0])[0],n([0,-1])[1]])}aspectRatio(t){var e=new B((0,i.l)(this.source(),{aspectRatio:t}));return e.original=this.original,e.min=this.min,e.max=this.max,e}bounds(t){t=t||[];var e=this.source(),n=this.min(),o=this.max(),r=N([t[0],t[1]],n,o,n),a=N([t[2],t[3]],n,o,o),l=e.to(r),s=e.to(a),c=u(d(s[0]-l[0])>f?d(s[0]-l[0]):2,d(s[1]-l[1])>f?d(s[1]-l[1]):2);c<2&&(0,i.l)(e,Z(e.to,e.from,l,s,c));var h=new B(e);return h.original=this.original,T(h,r,a),h}};function j(t){return[t[0],-t[1]]}function D(t){return e=>j(t(e))}function L(t){return e=>t(j(e))}function A(t){return()=>t}function I(t){return()=>t.slice()}function R(t,e){return{min:[u(t[0],e[0]),u(t[1],e[1])],max:[c(t[0],e[0]),c(t[1],e[1])]}}var M=function(t){return t&&t.to?new B(t):null},F={};function Z(t,e,n,o,i){var r=(n[0]+o[0])/2-i/2,a=(n[1]+o[1])/2-i/2,l=2/i;return{to:function(e){var[n,o]=t(e);return[(n-r)*l-1,(o-a)*l-1]},from:function(t){return e([r+(t[0]+1)/l,a+(t[1]+1)/l])}}}M.get=function(t){return F[t]||null},M.add=function(t,e){return e=e instanceof B&&e||M(e),!F[t]&&e&&(F[t]=e),M};n(92087);var P=(t,e)=>t.g().attr({stroke:"none","stroke-width":0,fill:"#000000",opacity:1e-4}).css({cursor:"pointer"}).append(e),H=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t.g().attr({class:n}).append(e)},W=(t,e)=>{var n=e?{display:"block"}:{display:"none"};t.map((t=>t.css(n)))},$=Math,G=$.min,K=$.max,V=$.round,Y=$.floor,X=$.sqrt,U=(0,o.Kn)(["left","center","right"]),q=(0,o.Kn)(["top","bottom"]),J="command-reset",Q="command-move-up",tt="command-move-right",et="command-move-down",nt="command-move-left",ot="command-zoom-in",it="command-zoom-out",rt="command-zoom-drag-line",at="command-zoom-drag",lt="control-bar",st=1,ut=2,ct={bigCircleSize:58,smallCircleSize:28,buttonSize:10,arrowButtonOffset:20,incDecButtonSize:11,incButtonOffset:66,decButtonOffset:227,sliderLineStartOffset:88.5,sliderLineEndOffset:205.5,sliderLength:20,sliderWidth:8,trackerGap:4},dt=30.5,ht=30.5,pt=61,mt=274,_t={};function ft(t){this._params=t,this._createElements(t.renderer,t.container,t.dataKey),t.layoutControl.addItem(this),this._subscribeToProjection(t.projection),this._subscribeToTracker(t.tracker),this._createCallbacks(t.projection)}function gt(t){delete t._owner,t.update=function(){},t.finish=function(){}}function vt(t,e){this._owner=t,this._command=e}function bt(t,e,n){this._command=e;var o=null,i=0,r=0;switch(this._command){case Q:r=-10;break;case tt:i=10;break;case et:r=10;break;case nt:i=-10}this._stop=function(){return clearTimeout(o),t._callbacks.endMove(),this._stop=t=null,this},t._callbacks.beginMove(),function e(){t._callbacks.move([i,r]),o=setTimeout(e,100)}()}function yt(t,e){this._owner=t,this._command=e;var n=null,o=this._command===ot?1:-1;this._stop=function(){return clearTimeout(n),this._stop=t=null,this},function e(){t._adjustZoom(t._zoomFactor+o),n=setTimeout(e,150)}()}function Ct(t,e,n){this._owner=t,this._zoomFactor=t._zoomFactor,this._pos=n.y}_t[J]=vt,_t[Q]=_t[tt]=_t[et]=_t[nt]=bt,_t[ot]=_t[it]=yt,_t[at]=Ct,ft.prototype={constructor:ft,_flags:0,dispose:function(){this._params.layoutControl.removeItem(this),this._root.linkRemove().linkOff(),this._offProjection(),this._offTracker(),this._params=this._root=this._offProjection=this._offTracker=this._callbacks=null},_subscribeToProjection:function(t){var e=this;function n(){e._adjustZoom(t.getScaledZoom())}e._offProjection=t.on({engine:function(){e._update()},zoom:n,"max-zoom":function(){e._zoomPartition=t.getZoomScalePartition(),e._sliderUnitLength=e._sliderLineLength/e._zoomPartition,n()}})},_subscribeToTracker:function(t){var e=this,n=!1;e._offTracker=t.on({start:function(t){n=t.data.name===lt,n&&e._processStart(t.data.index,t)},move:function(t){n&&e._processMove(t.data.index,t)},end:function(){n&&(e._processEnd(),n=!1)}})},_createCallbacks:function(t){this._callbacks={reset:function(e,n){e&&t.setCenter(null),n&&t.setZoom(null)},beginMove:function(){t.beginMoveCenter()},endMove:function(){t.endMoveCenter()},move:function(e){t.moveCenter(e)},zoom:function(e){t.setScaledZoom(e)}}},_createElements:function(t,e,n){this._root=t.g().attr({class:"dxm-control-bar"}).linkOn(e,"control-bar");var o=this._panControl=H(t,this._root,"dxm-pan-control"),i=this._zoomBar=H(t,this._root,"dxm-zoom-bar"),r=this._trackersPan=P(t,this._root),a=this._trackersZoom=P(t,this._root);this._createTrackersPan(t,n,r),this._createTrackersZoom(t,n,a),this._createPanControl(t,n,o),this._createZoomBar(t,n,i)},_createPanControl:function(t,e,n){var o=ct,i=o.buttonSize/2,r=o.arrowButtonOffset-i,a=o.arrowButtonOffset,l={"stroke-linecap":"square",fill:"none"};t.circle(0,0,o.bigCircleSize/2).append(n),t.circle(0,0,i).attr({fill:"none"}).append(n),t.path([-i,-r,0,-a,i,-r],"line").attr(l).append(n),t.path([r,-i,a,0,r,i],"line").attr(l).append(n),t.path([i,r,0,a,-i,r],"line").attr(l).append(n),t.path([-r,i,-a,0,-r,-i],"line").attr(l).append(n)},_createZoomBar:function(t,e,n){var o=ct,i=o.incDecButtonSize/2;t.circle(0,o.incButtonOffset,o.smallCircleSize/2).append(n),t.path([[-i,o.incButtonOffset,i,o.incButtonOffset],[0,o.incButtonOffset-i,0,o.incButtonOffset+i]],"area").append(n),t.circle(0,o.decButtonOffset,o.smallCircleSize/2).append(n),t.path([-i,o.decButtonOffset,i,o.decButtonOffset],"area").append(n),this._zoomLine=t.path([],"line").append(n),this._zoomDrag=t.rect(Y(-o.sliderLength/2),Y(o.sliderLineEndOffset-o.sliderWidth/2),o.sliderLength,o.sliderWidth).append(n),this._sliderLineLength=o.sliderLineEndOffset-o.sliderLineStartOffset},_createTrackersPan:function(t,e,n){var o=ct,i=V((o.arrowButtonOffset-o.trackerGap)/2),r=o.arrowButtonOffset-i,a=V(X(o.bigCircleSize*o.bigCircleSize/4-i*i)),l=a-r;t.rect(-i,-i,2*i,2*i).data(e,{index:J,name:lt}).append(n),t.rect(-i,-a,2*i,l).data(e,{index:Q,name:lt}).append(n),t.rect(r,-i,l,2*i).data(e,{index:tt,name:lt}).append(n),t.rect(-i,r,2*i,l).data(e,{index:et,name:lt}).append(n),t.rect(-a,-i,l,2*i).data(e,{index:nt,name:lt}).append(n)},_createTrackersZoom:function(t,e,n){var o=ct;t.circle(0,o.incButtonOffset,o.smallCircleSize/2).data(e,{index:ot,name:lt}).append(n),t.circle(0,o.decButtonOffset,o.smallCircleSize/2).data(e,{index:it,name:lt}).append(n),t.rect(-2,o.sliderLineStartOffset-2,4,o.sliderLineEndOffset-o.sliderLineStartOffset+4).css({cursor:"default"}).data(e,{index:rt,name:lt}).append(n),this._zoomDragTracker=t.rect(-o.sliderLength/2,o.sliderLineEndOffset-o.sliderWidth/2,o.sliderLength,o.sliderWidth).data(e,{index:at,name:lt}).append(n)},resize:function(t){this._isActive&&this._root.attr({visibility:null!==t?null:"hidden"})},getLayoutOptions:function(){return this._isActive?this._layoutOptions:null},locate:function(t,e){this._root.attr({translateX:t+this._margin+dt,translateY:e+this._margin+ht})},_update:function(){this._isActive=this._isEnabled&&this._flags&&this._params.projection.isInvertible();var t=[this._panControl,this._trackersPan],e=[this._zoomBar,this._trackersZoom];this._isActive?(this._root.linkAppend(),W(t,this._isPanVisible),W(e,this._isZoomVisible)):this._root.linkRemove(),this._processEnd(),this.updateLayout()},setInteraction:function(t){(0,o.It)(t.centeringEnabled,!0)?this._flags|=st:this._flags&=~st,(0,o.It)(t.zoomingEnabled,!0)?this._flags|=ut:this._flags&=~ut,this._update()},setOptions:function(t){var e={"stroke-width":t.borderWidth,stroke:t.borderColor,fill:t.color,"fill-opacity":t.opacity};this._isEnabled=!!(0,o.It)(t.enabled,!0),this._margin=t.margin||0,this._layoutOptions={width:2*this._margin+pt,height:2*this._margin+mt,horizontalAlignment:U(t.horizontalAlignment,"left"),verticalAlignment:q(t.verticalAlignment,"top")},this._isPanVisible=!!(0,o.It)(t.panVisible,!0),this._isZoomVisible=!!(0,o.It)(t.zoomVisible,!0),this._panControl.attr(e),this._zoomBar.attr(e),this._update()},_adjustZoom:function(t){var e=ct.sliderLineStartOffset,n=ct.sliderLineEndOffset,o=ct.sliderWidth;this._zoomFactor=K(G(V(t),this._zoomPartition),0);var i={translateY:-V(this._zoomFactor*this._sliderUnitLength)},r=n-o/2+i.translateY;this._zoomLine.attr({points:[[0,e,0,K(e,r)],[0,G(n,r+o),0,n]]}),this._zoomDrag.attr(i),this._zoomDragTracker.attr(i)},_applyZoom:function(){this._callbacks.zoom(this._zoomFactor)},_processStart:function(t,e){var n;this._isActive&&(n=_t[t],this._command=n&&n.flags&this._flags?new n(this,t,e):null)},_processMove:function(t,e){this._command&&this._command.update(t,e)},_processEnd:function(){this._command&&this._command.finish(),this._command=null}},vt.flags=st|ut,vt.prototype.update=function(t){t!==this._command&&gt(this)},vt.prototype.finish=function(){var t=this._owner._flags;this._owner._callbacks.reset(!!(t&st),!!(t&ut)),gt(this)},bt.flags=st,bt.prototype.update=function(t){this._command!==t&&this.finish()},bt.prototype.finish=function(){gt(this._stop())},yt.flags=ut,yt.prototype.update=function(t){this._command!==t&&this.finish()},yt.prototype.finish=function(){this._owner._applyZoom(),gt(this._stop())},Ct.flags=ut,Ct.prototype.update=function(t,e){var n=this._owner;n._adjustZoom(this._zoomFactor+n._zoomPartition*(this._pos-e.y)/n._sliderLineLength)},Ct.prototype.finish=function(){this._owner._applyZoom(),gt(this)};var xt=Math.log,St=Math.LN2;function Nt(t){this._projection=t.projection,this._renderer=t.renderer,this._x=this._y=0,this._subscribeToTracker(t.tracker)}Nt.prototype={constructor:Nt,dispose:function(){this._offTracker(),this._offTracker=null},_subscribeToTracker:function(t){var e=this,n=!1;e._offTracker=t.on({start:function(t){n="control-bar"!==t.data.name,n&&e._processStart(t)},move:function(t){n&&e._processMove(t)},end:function(){n&&e._processEnd()},zoom:function(t){e._processZoom(t)}})},setInteraction:function(t){this._processEnd(),this._centeringEnabled=t.centeringEnabled,this._zoomingEnabled=t.zoomingEnabled},_processStart:function(t){this._centeringEnabled&&(this._x=t.x,this._y=t.y,this._projection.beginMoveCenter())},_processMove:function(t){this._centeringEnabled&&(this._renderer.root.attr({cursor:"move"}),this._projection.moveCenter([this._x-t.x,this._y-t.y]),this._x=t.x,this._y=t.y)},_processEnd:function(){this._centeringEnabled&&(this._renderer.root.attr({cursor:"default"}),this._projection.endMoveCenter())},_processZoom:function(t){var e,n,o;this._zoomingEnabled&&(t.delta?e=t.delta:t.ratio&&(e=xt(t.ratio)/St),this._centeringEnabled&&(n=this._renderer.getRootOffset(),n=[t.x-n.left,t.y-n.top],o=this._projection.fromScreenPoint(n)),this._projection.changeScaledZoom(e),this._centeringEnabled&&this._projection.setCenterByPoint(o,n))}};var kt,Ot,wt=n(66487),zt=n(56901),Et=n(33158),Tt=n(84518),Bt=n(80752),jt=(0,zt.jW)(),Dt=Math,Lt=Dt.abs,At=Dt.sqrt,It=Dt.round,Rt=Tt.V4,Mt="dxVectorMap",Ft="start",Zt="move",Pt="end",Ht="zoom",Wt="hover-on",$t="hover-off",Gt="click",Kt="focus-on",Vt="focus-move",Yt="focus-off",Xt=500,Ut=5,qt=20,Jt=5,Qt=10,te=100,ee=50,ne=300;function oe(t){var e=this;e._root=t.root,e._createEventHandlers(t.dataKey),e._createProjectionHandlers(t.projection),e._initEvents(),e._focus=new Ot((function(t,n){e._fire(t,n)})),e._attachHandlers()}function ie(t,e,n,o){return At((t-n)*(t-n)+(e-o)*(e-o))}function re(t){var e=t.originalEvent.type,n=t.originalEvent.pointerType;return/^touch/.test(e)||/^MSPointer/.test(e)&&4!==n||/^pointer/.test(e)&&"mouse"!==n}function ae(t,e){for(var n,o=0,i=t.length;o<i;++o)if(t[o]){n=e[o];break}return Rt(n||e[o],Mt)}function le(){var t=[jt.pointerEnabled,jt.msPointerEnabled,(0,zt.l$)("ontouchstart")];kt={start:ae(t,["pointerdown","MSPointerDown","touchstart mousedown","mousedown"]),move:ae(t,["pointermove","MSPointerMove","touchmove mousemove","mousemove"]),end:ae(t,["pointerup","MSPointerUp","touchend mouseup","mouseup"]),wheel:Rt(Bt.u,Mt)}}function se(t){var e=t.originalEvent,n=e.touches&&e.touches[0]||{};return{x:n.pageX||e.pageX||t.pageX,y:n.pageY||e.pageY||t.pageY}}function ue(t){return t.originalEvent.pointerId}function ce(t,e){var n=t.originalEvent;return n=void 0!==n.pointerId?n.pointerId===e?n:null:n.touches[e],n?{x:n.pageX||t.pageX,y:n.pageY||t.pageY}:null}function de(t,e){if(0===t)return 0;var n=Lt(t),o=It(t/n);return e.dir&&o!==e.dir?0:(e.dir=o,n=n<.1?0:n<1?1:n>4?4:It(n),o*n)}function he(){this._store={}}le(),oe.prototype={constructor:oe,dispose:function(){this._detachHandlers(),this._disposeEvents(),this._focus.dispose(),this._root=this._focus=this._docHandlers=this._rootHandlers=null},_eventNames:[Ft,Zt,Pt,Ht,Gt,Wt,$t,Kt,Yt,Vt],_startClick:function(t,e){if(e){var n=se(t);this._clickState={x:n.x,y:n.y,threshold:re(t)?qt:Ut,time:Date.now()}}},_endClick:function(t,e){var n,o,i=this._clickState;i&&(e&&Date.now()-i.time<=Xt&&(n=i.threshold,o=se(t),Lt(o.x-i.x)<=n&&Lt(o.y-i.y)<=n&&this._fire(Gt,{data:e,x:o.x,y:o.y,$event:t})),this._clickState=null)},_startDrag:function(t,e){if(e){var n=se(t),o=this._dragState={x:n.x,y:n.y,data:e};this._fire(Ft,{x:o.x,y:o.y,data:o.data})}},_moveDrag:function(t,e){var n=this._dragState;if(n){var o=se(t),i=re(t)?Qt:Jt;(n.active||Lt(o.x-n.x)>i||Lt(o.y-n.y)>i)&&(n.x=o.x,n.y=o.y,n.active=!0,n.data=e||{},this._fire(Zt,{x:n.x,y:n.y,data:n.data}))}},_endDrag:function(){var t=this._dragState;t&&(this._dragState=null,this._fire(Pt,{x:t.x,y:t.y,data:t.data}))},_wheelZoom:function(t,e){if(e){var n=this._wheelLock,o=Date.now();if(!(o-n.time<=ee)){o-n.dirTime>ne&&(n.dir=0);var i=de(t.delta/120||0,n);if(0!==i){var r=se(t);this._fire(Ht,{delta:i,x:r.x,y:r.y}),n.time=n.dirTime=o}}}},_startZoom:function(t,e){if(re(t)&&e){var n,o,i=this._zoomState=this._zoomState||{};i.pointer1&&i.pointer2||(void 0===i.pointer1&&(i.pointer1=ue(t)||0,n=ce(t,i.pointer1),i.x1=i.x1_0=n.x,i.y1=i.y1_0=n.y),void 0===i.pointer2&&(o=ue(t)||1,o!==i.pointer1&&(n=ce(t,o),n&&(i.x2=i.x2_0=n.x,i.y2=i.y2_0=n.y,i.pointer2=o,i.ready=!0,this._endDrag()))))}},_moveZoom:function(t){var e,n=this._zoomState;n&&re(t)&&(void 0!==n.pointer1&&(e=ce(t,n.pointer1),e&&(n.x1=e.x,n.y1=e.y)),void 0!==n.pointer2&&(e=ce(t,n.pointer2),e&&(n.x2=e.x,n.y2=e.y)))},_endZoom:function(t){var e,n,o=this._zoomState;o&&re(t)&&(o.ready&&(e=ie(o.x1_0,o.y1_0,o.x2_0,o.y2_0),n=ie(o.x1,o.y1,o.x2,o.y2),this._fire(Ht,{ratio:n/e,x:(o.x1_0+o.x2_0)/2,y:(o.y1_0+o.y2_0)/2})),this._zoomState=null)},_startHover:function(t,e){this._doHover(t,e,!0)},_moveHover:function(t,e){this._doHover(t,e,!1)},_doHover:function(t,e,n){this._dragState&&this._dragState.active||this._zoomState&&this._zoomState.ready?this._cancelHover():re(t)!==n||this._hoverTarget===t.target||this._hoverState&&this._hoverState.data===e||(this._cancelHover(),e&&(this._hoverState={data:e},this._fire(Wt,{data:e})),this._hoverTarget=t.target)},_cancelHover:function(){var t=this._hoverState;this._hoverState=this._hoverTarget=null,t&&this._fire($t,{data:t.data})},_startFocus:function(t,e){this._doFocus(t,e,!0)},_moveFocus:function(t,e){this._doFocus(t,e,!1)},_doFocus:function(t,e,n){this._dragState&&this._dragState.active||this._zoomState&&this._zoomState.ready?this._cancelFocus():re(t)===n&&(this._focus.turnOff(),e&&this._focus.turnOn(e,se(t)))},_cancelFocus:function(){this._focus.cancel()},_createEventHandlers:function(t){var e=this;function n(e){var n=e.target;return("tspan"===n.tagName?n.parentNode:n)[t]}e._docHandlers={},e._rootHandlers={},e._docHandlers[kt.start]=function(t){var o=re(t),i=n(t);o&&!e._isTouchEnabled||(i&&t.preventDefault(),e._startClick(t,i),e._startDrag(t,i),e._startZoom(t,i),e._startHover(t,i),e._startFocus(t,i))},e._docHandlers[kt.move]=function(t){var o=re(t),i=n(t);o&&!e._isTouchEnabled||(e._moveDrag(t,i),e._moveZoom(t,i),e._moveHover(t,i),e._moveFocus(t,i))},e._docHandlers[kt.end]=function(t){var o=re(t),i=n(t);o&&!e._isTouchEnabled||(e._endClick(t,i),e._endDrag(t,i),e._endZoom(t,i))},e._rootHandlers[kt.wheel]=function(t){if(e._cancelFocus(),e._isWheelEnabled){var o=n(t);o&&(t.preventDefault(),t.stopPropagation(),e._wheelZoom(t,o))}},e._wheelLock={dir:0}},_createProjectionHandlers:function(t){var e=this;function n(){e._cancelFocus()}t.on({center:n,zoom:n})},reset:function(){this._clickState=null,this._endDrag(),this._cancelHover(),this._cancelFocus()},setOptions:function(t){this.reset(),this._detachHandlers(),this._isTouchEnabled=!!(0,o.It)(t.touchEnabled,!0),this._isWheelEnabled=!!(0,o.It)(t.wheelEnabled,!0),this._attachHandlers()},_detachHandlers:function(){this._isTouchEnabled&&this._root.css({"touch-action":"","-webkit-user-select":""}).off(Rt("MSHoldVisual",Mt)).off(Rt("contextmenu",Mt)),wt.Z.off(Et["default"].getDocument(),this._docHandlers),this._root.off(this._rootHandlers)},_attachHandlers:function(){this._isTouchEnabled&&this._root.css({"touch-action":"none","-webkit-user-select":"none"}).on(Rt("MSHoldVisual",Mt),(function(t){t.preventDefault()})).on(Rt("contextmenu",Mt),(function(t){re(t)&&t.preventDefault()})),wt.Z.on(Et["default"].getDocument(),this._docHandlers),this._root.on(this._rootHandlers)}},Ot=function(t){var e,n,o=this,i=null,r=null,a=!1,l=null;o.dispose=function(){clearTimeout(l),o.turnOn=o.turnOff=o.cancel=o.dispose=o=t=i=r=l=null},o.turnOn=function(o,s){function u(t){a=!t,t&&(i=r,clearTimeout(l),l=null)}o===r&&a||(a=!1,r=o,i?(e=s.x,n=s.y,r===i?(t(Vt,{data:r,x:e,y:n}),u(!0)):t(Kt,{data:r,x:e,y:n,done:u})):(e=s.x,n=s.y,t(Kt,{data:r,x:e,y:n,done:u})))},o.turnOff=function(){r=null,i&&!a&&(l=l||setTimeout((function(){l=null,t(Yt,{data:i}),i=null}),te))},o.cancel=function(){clearTimeout(l),i&&t(Yt,{data:i}),i=r=l=null}},l(oe),he.prototype={constructor:he,dispose:function(){return this._store=null,this},_get:function(t,e){var n=this._store[t]||(this._store[t]={});return n[e]||(n[e]={callbacks:(0,r["default"])()})},set:function(t,e,n){var o=this._get(t,e);return o.data=n,o.callbacks.fire(n),this},bind:function(t,e,n){var o=this._get(t,e);return o.callbacks.add(n),o.data&&n(o.data),this},unbind:function(t,e,n){var o=this._get(t,e);return o.callbacks.remove(n),this}};var pe=n(12145),me=n(92438),_e=n(97294),fe=i.l,ge=pe.S6,ve={category:"UNKNOWN",name:"UNKNOWN"};function be(t,e,n){var o,i,r=e.length,a=[];for(o=0;o<r;++o)a[o]=i={start:t[o],end:t[o+1],index:o},i[n]=e[o],i.states={normal:{fill:i.color}},i.visible=!0;return a}var ye=function(t){var e=this;e._params=t,e._root=t.renderer.g().attr({class:"dxm-legend"}).linkOn(t.container,{name:"legend",after:"legend-base"}).enableLinks().linkAppend(),t.layoutControl.addItem(e),_e.D.call(e,{renderer:t.renderer,widget:t.widget,group:e._root,backgroundClass:null,itemsGroupClass:null,textField:"text",getFormatObject:function(t){return t}}),e._onDataChanged=function(t){e._updateData(t)}};function Ce(t){this._params=t,this._items=[],t.container.virtualLink("legend-base")}ye.prototype=fe((0,me.d9)(_e.D.prototype),{constructor:ye,dispose:function(){var t=this;return t._params.layoutControl.removeItem(t),t._unbindData(),t._root.linkRemove().linkOff(),t._params=t._root=t._onDataChanged=null,_e.D.prototype.dispose.apply(t,arguments)},resize:function(t){this._params.notifyDirty(),null===t?this.erase():this.draw(t.width,t.height),this._params.notifyReady()},locate:_e.D.prototype.shift,_updateData:function(t){this._options.defaultColor=t&&t.defaultColor,this.update(t?be(t.partition,t.values,this._dataName):[],this._options,this._params.themeManager.theme("legend").title),this.updateLayout()},_unbindData:function(){this._dataCategory&&this._params.dataExchanger.unbind(this._dataCategory,this._dataName,this._onDataChanged)},_bindData:function(t){this._params.dataExchanger.bind(this._dataCategory=t.category,this._dataName=t.name,this._onDataChanged)},setOptions:function(t){this.update(this._data,t,this._params.themeManager.theme("legend").title),this._unbindData();var e=t.source;return this._bindData(e?{category:e.layer,name:e.grouping}:ve),this.updateLayout(),this}}),Ce.prototype={constructor:Ce,dispose:function(){ge(this._items,(function(t,e){e.dispose()})),this._params=this._items=null},setOptions:function(t){var e,n=t&&t.length?t:[],o=this._items,i=n.length,r=this._params,a=r.themeManager.theme("legend");for(e=o.length;e<i;++e)o[e]=new ye(r);for(e=o.length-1;e>=i;--e)o[e].dispose(),o.splice(e,1);for(r.layoutControl.suspend(),e=0;e<i;++e)o[e].setOptions(fe(!0,{},a,n[e]));r.layoutControl.resume()}};var xe=Math.round,Se=Math.min,Ne=Math.max,ke=pe.S6,Oe={left:0,center:1,right:2},we={top:0,bottom:1};function ze(t){return 3*we[t.verticalAlignment]+Oe[t.horizontalAlignment]}function Ee(t,e){var n=(t.right-t.left)/3,o=(t.bottom-t.top)/2,i=t.left,r=xe(i+n),a=xe(i+n+n),l=t.right,s=t.top,u=xe(s+o),c=t.bottom,d=[{rect:[i,s,r,u]},{rect:[r,s,a,u],center:!0},{rect:[a,s,l,u],horInversion:!0},{rect:[i,u,r,c],verInversion:!0},{rect:[r,u,a,c],center:!0,verInversion:!0},{rect:[a,u,l,c],horInversion:!0,verInversion:!0}],h=[[],[],[],[],[],[]];return ke(e,(function(t,e){var n=e.getLayoutOptions();n&&h[ze(n)].push({item:e,width:n.width,height:n.height})})),ke(d,(function(t,e){h[t].length?e.items=h[t]:(e.center?e.rect[0]=e.rect[2]=(e.rect[0]+e.rect[2])/2:e.rect[e.horInversion?0:2]=e.rect[e.horInversion?2:0],e.rect[e.verInversion?1:3]=e.rect[e.verInversion?3:1])})),d}function Te(t){ke([0,1,2,3,4,5],(function(e,n){var o=t[n],i=t[(n+3)%6];o.items&&(i.items||(o.rect[1]=Se(o.rect[1],i.rect[3]),o.rect[3]=Ne(o.rect[3],i.rect[1])))})),ke([1,4],(function(e,n){var o,i,r=t[n],a=t[n-1],l=t[n+1];r.items?a.items||l.items||(o=r.rect[0]-a.rect[2],i=l.rect[0]-r.rect[2],o>i?o/i>=2?(r.rect[0]-=o,r.right=!0):(r.rect[0]-=i,r.rect[2]+=i):i/o>=2?(r.rect[2]+=i,r.center=null):(r.rect[0]-=o,r.rect[2]+=o)):(a.items&&(a.rect[2]=(r.rect[0]+r.rect[2])/2),l.items&&(l.rect[0]=(r.rect[0]+r.rect[2])/2))}))}function Be(t,e){var n=!1;return Te(t),ke(t,(function(t,o){o.items&&(n=je(o,e)||n)})),n}function je(t,e){var n=t.rect,o=n[2]-n[0],i=n[3]-n[1],r=0,a=0,l=0,s=n[2],u=n[3],c=n[0],d=n[1],h=[],p=!1;return ke(t.items,(function(m,_){if(_.width>o||_.height>i)return h.push(null),p=!0,e||!1;if(r+_.width>o&&(a+=l,r=l=0),a+_.height>i)return h.push(null),p=!0,e||!1;l=Ne(l,_.height);var f=t.horInversion?n[2]-_.width-r:n[0]+r,g=t.verInversion?n[3]-_.height-a:n[1]+a;r+=_.width,s=Se(s,f),u=Se(u,g),c=Ne(c,f+_.width),d=Ne(d,g+_.height),h.push([f,g])})),!e&&p||(r=0,t.right?r=n[2]-n[0]-c+s:t.center&&(r=xe((n[2]-n[0]-c+s)/2)),ke(t.items,(function(t,e){var n=h[t];n?e.item.locate(n[0]+r,n[1]):e.item.resize(null)})),t.rect=[s,u,c,d],t.items=null),p}function De(t,e){var n=Ee(t,e);Be(n)&&Be(n,!0)}function Le(t){var e=this;e._items=[],e._suspended=0,e._widget=t,e._updateLayout=function(){e._update()}}Le.prototype={constructor:Le,dispose:function(){this._items=this._updateLayout=null},setSize:function(t){this._canvas=t,this._update()},suspend:function(){++this._suspended},resume:function(){0===--this._suspended&&this._update()},addItem:function(t){this._items.push(t),t.updateLayout=this._updateLayout},removeItem:function(t){var e=this._items.indexOf(t);this._items.splice(e,1),t.updateLayout=null},_update:function(){var t;0===this._suspended&&(t=this._canvas,ke(this._items,(function(e,n){n.resize(t)})),this._widget.resolveItemsDeferred(this._items.filter((t=>t.getTemplatesGroups&&t.getTemplatesDef))),De({left:t.left,top:t.top,right:t.width+t.left,bottom:t.height+t.top},this._items))}};var Ae=n(84392),Ie=n(31523),Re=n(9783),Me=n(42061),Fe=Ae.ZT,Ze=i.l,Pe=pe.S6,He=Array.prototype.concat,We="area",$e="line",Ge="marker",Ke=0,Ve=1,Ye=2,Xe=[0,1,2,2],Ue=1,qe={none:null,single:-1,multiple:NaN},Je=Array.isArray,Qe=Number,tn=String,en=Math.abs,nn=Math.round,on=Math.min,rn=Math.max,an=Math.sqrt;function ln(t){return t.reduce(((t,e)=>e?[on(t[0],e[0]),on(t[1],e[1]),rn(t[2],e[2]),rn(t[3],e[3])]:t),t[0])}function sn(t){var e=(0,o.ps)(t);return e=e in qe?qe[e]:qe.single,null!==e&&(e={state:{},single:e}),e}function un(t,e){return(t[e]||{}).name}function cn(){}function dn(t){this.raw=t}function hn(t){this.raw=t}function pn(t){return Je(t.features)}function mn(t){var e;return t&&(pn(t)?e=hn:1===t.length&&t[0]&&pn(t[0])?(e=hn,t=t[0]):Je(t)&&(e=dn)),e=e||cn,new e(t)}function _n(t){return t?pn(t)?[t]:t:[]}function fn(t,e,n){e.call(n,t)}function gn(t){t.text.attr({visibility:t.size[0]/t.spaceSize[0]<Ue&&t.size[1]/t.spaceSize[1]<Ue?null:"hidden"})}function vn(t){t.text.attr({visibility:t.size[0]/t.spaceSize[0]<Ue||t.size[1]/t.spaceSize[1]<Ue?null:"hidden"})}function bn(t,e){return t.attribute(e)}cn.prototype.count=function(){return 0},dn.prototype={constructor:dn,count:function(){return this.raw.length},item:function(t){return this.raw[t]},geometry:function(t){return{coordinates:t.coordinates}},attributes:function(t){return t.attributes},getBBox:function(t){return 0===arguments.length?void 0:this.raw[t].bbox}},hn.prototype={constructor:hn,count:function(){return this.raw.features.length},item:function(t){return this.raw.features[t]},geometry:function(t){return t.geometry},attributes:function(t){return t.properties},getBBox:function(t){return 0===arguments.length?this.raw.bbox:this.raw.features[t].bbox}};var yn={Point:Ge,MultiPoint:$e,LineString:$e,MultiLineString:$e,Polygon:We,MultiPolygon:We};function Cn(t,e){return void 0!==t?t:e}function xn(t){var e=yn[t.type],n=t.coordinates;return e||(e="number"===typeof n[0]?Ge:"number"===typeof n[0][0]?$e:We),e}var Sn,Nn,kn={setup:Fe,reset:Fe,arrange:Fe,updateGrouping:Fe,getDefaultColor:Fe},On={},wn={},zn={},En=function(t,e){var n,i=(0,o.ps)(t.type),r=(0,o.ps)(t.elementType),a=Ze({},kn);return e.count()>0&&(n=e.geometry(e.item(0)),i=On[i]?i:xn(n),Ze(a,On[i]),a.fullType=a.type=i,wn[i]&&Ze(a,wn[i](n)),zn[i]&&(r=zn[i][r]?r:zn[i]._default,Ze(a,zn[i][r]),a.elementType=r,a.fullType+=":"+r)),a};function Tn(t,e,n,o){t[o].attr(e[o][n])}function Bn(t,e){return t.project(e)}function jn(t,e){var n,o=[],i=o.length=e.length;for(n=0;n<i;++n)o[n]=t.project(e[n]);return o}function Dn(t,e){return[jn(t,e)]}function Ln(t,e){var n,o=[],i=o.length=e.length;for(n=0;n<i;++n)o[n]=jn(t,e[n]);return o}function An(t,e){var n,o=[],i=o.length=e.length;for(n=0;n<i;++n)o[n]=Ln(t,e[n]);return He.apply([],o)}function In(t,e,n){var o=e.transform(n);t.root.attr({translateX:o[0],translateY:o[1]})}function Rn(t,e){var n,o,i=[],r=e.length,a=0;for(i.length=2*r,n=0;n<r;++n)o=t.transform(e[n]),i[a++]=o[0],i[a++]=o[1];return i}function Mn(t,e,n){var o,i=[],r=i.length=n.length;for(o=0;o<r;++o)i[o]=Rn(e,n[o]);t.root.attr({points:i})}function Fn(t,e,n){var o=e.transform(n[0]);t.spaceSize=e.getSquareSize(n[1]),t.text.attr({translateX:o[0],translateY:o[1]}),gn(t)}function Zn(t,e,n){var o=e.transform(n[0]);t.spaceSize=e.getSquareSize(n[1]),t.text.attr({translateX:o[0],translateY:o[1]}),vn(t)}function Pn(t,e,n){var o=Gn(t.settings,n);return Hn(t.grouping,e,o),void 0===n.color&&n.paletteIndex>=0&&(o.color=o._colors[n.paletteIndex]),o}function Hn(t,e,n){Pe(t,(function(t,o){var i=Wn(o.callback(e,o.field),o.partition);i>=0&&(n[t]=o.values[i])}))}function Wn(t,e){var n,o=0,i=e.length-1,r=-1;if(e[o]<=t&&t<=e[i])if(t===e[i])r=i-1;else{while(i-o>1)n=o+i>>1,t<e[n]?i=n:o=n;r=o}return r}function $n(t,e,n,o){t.params.eventTrigger(o,{target:e.proxy,state:n})}function Gn(t,e){var n=Ze({},t,e);return n.label=Ze({},t.label,n.label),n.label.font=Ze({},t.label.font,n.label.font),n}function Kn(t,e){var n,o,i,r=t.params.themeManager,a=t.str,l=Gn(Ze({label:{},color:a.getDefaultColor(t,e.palette)},r.theme("layer:"+a.fullType)),e);if(l.paletteSize>0){for(i=r.createDiscretePalette(l.palette,l.paletteSize),o=0,n=[];o<l.paletteSize;++o)n.push(i.getColor(o));l._colors=n}return l}function Vn(t,e){return t.attribute(e)}On[We]={projectLabel:io,transform:Mn,transformLabel:Fn,draw:function(t,e,n){e.root=t.renderer.path([],"area").data(t.dataKey,n)},refresh:Fe,getLabelOffset:function(t){return gn(t),[0,0]},getStyles:function(t){var e=t.color||null,n=t.borderColor||null,o=Cn(t.borderWidth,null),i=Cn(t.opacity,null);return{root:[{class:"dxm-area",stroke:n,"stroke-width":o,fill:e,opacity:i},{class:"dxm-area dxm-area-hovered",stroke:t.hoveredBorderColor||n,"stroke-width":Cn(t.hoveredBorderWidth,o),fill:t.hoveredColor||e,opacity:Cn(t.hoveredOpacity,i)},{class:"dxm-area dxm-area-selected",stroke:t.selectedBorderColor||n,"stroke-width":Cn(t.selectedBorderWidth,o),fill:t.selectedColor||e,opacity:Cn(t.selectedOpacity,i)}]}},setState:function(t,e,n){Tn(t,e,n,"root")},hasLabelsGroup:!0,updateGrouping:function(t){Sn(t)},getDefaultColor:Fe},On[$e]={projectLabel:ro,transform:Mn,transformLabel:Zn,draw:function(t,e,n){e.root=t.renderer.path([],"line").data(t.dataKey,n)},refresh:Fe,getLabelOffset:function(t){return vn(t),[0,0]},getStyles:function(t){var e=t.color||t.borderColor||null,n=Cn(t.borderWidth,null),o=Cn(t.opacity,null);return{root:[{class:"dxm-line",stroke:e,"stroke-width":n,opacity:o},{class:"dxm-line dxm-line-hovered",stroke:t.hoveredColor||t.hoveredBorderColor||e,"stroke-width":Cn(t.hoveredBorderWidth,n),opacity:Cn(t.hoveredOpacity,o)},{class:"dxm-line dxm-line-selected",stroke:t.selectedColor||t.selectedBorderColor||e,"stroke-width":Cn(t.selectedBorderWidth,n),opacity:Cn(t.selectedOpacity,o)}]}},setState:function(t,e,n){Tn(t,e,n,"root")},hasLabelsGroup:!0,updateGrouping:function(t){Sn(t)},getDefaultColor:Fe},On[Ge]={project:Bn,transform:In,draw:function(t,e,n){e.root=t.renderer.g(),this._draw(t,e,n)},refresh:Fe,hasLabelsGroup:!1,getLabelOffset:function(t,e){return[nn((t.size[0]+rn(e.size||0,0))/2)+2,0]},getStyles:function(t){var e={root:[{class:"dxm-marker"},{class:"dxm-marker dxm-marker-hovered"},{class:"dxm-marker dxm-marker-selected"}]};return this._getStyles(e,t),e},setState:function(t,e,n){Tn(t,e,n,"root"),this._setState(t,e,n)},updateGrouping:function(t){Sn(t),Nn(t)},getDefaultColor:function(t,e){return t.params.themeManager.getAccentColor(e)}},wn[We]=function(t){return{project:(t,e)=>e[0]&&e[0][0]&&e[0][0][0]&&"number"===typeof e[0][0][0][0]?An(t,e):Ln(t,e)}},wn[$e]=function(t){var e=t.coordinates;return{project:e[0]&&e[0][0]&&"number"===typeof e[0][0][0]?Ln:Dn}},zn[Ge]={_default:"dot",dot:{setup:function(t){t.filter=t.renderer.shadowFilter("-40%","-40%","180%","200%",0,1,1,"#000000",.2)},reset:function(t){t.filter.dispose(),t.filter=null},_draw:function(t,e,n){e.back=t.renderer.circle().sharp().data(t.dataKey,n).append(e.root),e.dot=t.renderer.circle().sharp().data(t.dataKey,n).append(e.root)},refresh:function(t,e,n,o,i){e.dot.attr({filter:i.shadow?t.filter.id:null})},_getStyles:function(t,e){var n=e.size>0?Qe(e.size):0,o=n,i=n+(e.selectedStep>0?Qe(e.selectedStep):0),r=o+(e.backStep>0?Qe(e.backStep):0),a=i+(e.backStep>0?Qe(e.backStep):0),l=e.color||null,s=e.borderColor||null,u=Cn(e.borderWidth,null),c=Cn(e.opacity,null),d=e.backColor||null,h=Cn(e.backOpacity,null);t.dot=[{r:n/2,stroke:s,"stroke-width":u,fill:l,opacity:c},{r:o/2,stroke:e.hoveredBorderColor||s,"stroke-width":Cn(e.hoveredBorderWidth,u),fill:e.hoveredColor||l,opacity:Cn(e.hoveredOpacity,c)},{r:i/2,stroke:e.selectedBorderColor||s,"stroke-width":Cn(e.selectedBorderWidth,u),fill:e.selectedColor||l,opacity:Cn(e.selectedOpacity,c)}],t.back=[{r:n/2,stroke:"none","stroke-width":0,fill:d,opacity:h},{r:r/2,stroke:"none","stroke-width":0,fill:d,opacity:h},{r:a/2,stroke:"none","stroke-width":0,fill:d,opacity:h}]},_setState:function(t,e,n){Tn(t,e,n,"dot"),Tn(t,e,n,"back")}},bubble:{_draw:function(t,e,n){e.bubble=t.renderer.circle().sharp().data(t.dataKey,n).append(e.root)},refresh:function(t,e,n,o,i){e.bubble.attr({r:i.size/2})},_getStyles:function(t,e){var n=e.color||null,o=e.borderColor||null,i=Cn(e.borderWidth,null),r=Cn(e.opacity,null);t.bubble=[{stroke:o,"stroke-width":i,fill:n,opacity:r},{stroke:e.hoveredBorderColor||o,"stroke-width":Cn(e.hoveredBorderWidth,i),fill:e.hoveredColor||e.color,opacity:Cn(e.hoveredOpacity,r)},{stroke:e.selectedBorderColor||o,"stroke-width":Cn(e.selectedBorderWidth,i),fill:e.selectedColor||e.color,opacity:Cn(e.selectedOpacity,r)}]},_setState:function(t,e,n){Tn(t,e,n,"bubble")},arrange:function(t,e){var n,o=[],i=o.length=e.length,r=t.settings,a=r.dataField,l=r.minSize>0?Qe(r.minSize):0,s=r.maxSize>l?Qe(r.maxSize):l;if(!r.sizeGroups){for(n=0;n<i;++n)o[n]=rn(bn(e[n].proxy,a)||0,0);var u=on.apply(null,o),c=rn.apply(null,o),d=c-u||1,h=s-l;for(n=0;n<i;++n)e[n]._settings.size=l+h*(o[n]-u)/d}},updateGrouping:function(t){var e=t.settings.dataField;On[Ge].updateGrouping(t),Nn(t,(function(t){return bn(t,e)}))}},pie:{_draw:function(t,e,n){e.pie=t.renderer.g().append(e.root),e.border=t.renderer.circle().sharp().data(t.dataKey,n).append(e.root)},refresh:function(t,e,n,o,i){var r=bn(o,t.settings.dataField)||[],a=i._colors,l=0,s=e.pie,u=t.renderer,c=t.dataKey,d=(i.size>0?Qe(i.size):0)/2,h=90,p=h,m=!1;l=r.reduce((function(t,e){return t+(e||0)}),0),0===l&&(m=!0,l=360/r.length),r.forEach((function(t,e){h=p,p+=m?l:(t||0)/l*360,u.arc(0,0,0,d,h,p).attr({"stroke-linejoin":"round",fill:a[e]}).data(c,n).append(s)})),e.border.attr({r:d})},_getStyles:function(t,e){var n=Cn(e.opacity,null),o=e.borderColor||null,i=Cn(e.borderWidth,null);t.pie=[{opacity:n},{opacity:Cn(e.hoveredOpacity,n)},{opacity:Cn(e.selectedOpacity,n)}],t.border=[{stroke:o,"stroke-width":i},{stroke:e.hoveredBorderColor||o,"stroke-width":Cn(e.hoveredBorderWidth,i)},{stroke:e.selectedBorderColor||o,"stroke-width":Cn(e.selectedBorderWidth,i)}]},_setState:function(t,e,n){Tn(t,e,n,"pie"),Tn(t,e,n,"border")},arrange:function(t,e){var n,o,i,r=e.length,a=t.settings.dataField,l=0;for(n=0;n<r;++n)o=bn(e[n].proxy,a),o&&o.length>l&&(l=o.length);l>0&&(i=t.params.themeManager.createPalette(t.settings.palette,{useHighlight:!0,extensionMode:"alternate"}),o=i.generateColors(l),t.settings._colors=o,t.grouping.color={callback:Fe,field:"",partition:[],values:[]},t.params.dataExchanger.set(t.name,"color",{partition:[],values:o}))}},image:{_draw:function(t,e,n){e.image=t.renderer.image(null,null,null,null,null,"center").attr({"pointer-events":"visible"}).data(t.dataKey,n).append(e.root)},refresh:function(t,e,n,o){e.image.attr({href:bn(o,t.settings.dataField)})},_getStyles:function(t,e){var n=e.size>0?Qe(e.size):0,o=n+(e.hoveredStep>0?Qe(e.hoveredStep):0),i=n+(e.selectedStep>0?Qe(e.selectedStep):0),r=Cn(e.opacity,null);t.image=[{x:-n/2,y:-n/2,width:n,height:n,opacity:r},{x:-o/2,y:-o/2,width:o,height:o,opacity:Cn(e.hoveredOpacity,r)},{x:-i/2,y:-i/2,width:i,height:i,opacity:Cn(e.selectedOpacity,r)}]},_setState:function(t,e,n){Tn(t,e,n,"image")}}};var Yn,Xn=function(t,e,n,o,i){var r;o&&e&&e.length>1&&(r=i(e.length-1),t.grouping[n]={callback:(0,Re.mf)(o)?o:Vn,field:o,partition:e,values:r},t.params.dataExchanger.set(t.name,n,{partition:e,values:r,defaultColor:t.settings.color}))};function Un(t){var e=t.name,n=t.params.dataExchanger;Pe(t.grouping,(function(t){n.set(e,t,null)})),t.grouping={}}function qn(t,e,n){return n?t|=e:t&=~e,t}function Jn(t,e){return!!(t&e)}function Qn(t,e,n){var o={index:n,name:e,getElements:function(){return t.getProxies()},clearSelection:function(e){return t.clearSelection(e),o},getDataSource:function(){return t.getDataSource()},getBounds:()=>t.getBounds()};return o}Sn=function(t){Xn(t,t.settings.colorGroups,"color",t.settings.colorGroupingField,(function(e){var n,o=t.params.themeManager.createDiscretePalette(t.settings.palette,e),i=[];for(n=0;n<e;++n)i.push(o.getColor(n));return i}))},Nn=function(t,e){var n=t.settings;Xn(t,n.sizeGroups,"size",e||n.sizeGroupingField,(function(t){var e=n.minSize>0?Qe(n.minSize):0,o=n.maxSize>=e?Qe(n.maxSize):0,i=0,r=[];if(t>1)for(i=0;i<t;++i)r.push((e*(t-i-1)+o*i)/(t-1));else 1===t&&r.push((e+o)/2);return r}))};var to=function(t,e,n,o){this._params=t,this._onProjection(),this.proxy=Qn(this,n,o),this._context={name:n,layer:this.proxy,renderer:t.renderer,projection:t.projection,params:t,dataKey:t.dataKey,str:kn,hover:!1,selection:null,grouping:{},root:t.renderer.g().attr({class:"dxm-layer"}).linkOn(e,n).linkAppend()},this._container=e,this._options={},this._handles=[],this._data=new cn,this._dataSourceLoaded=null};function eo(t,e,n){var o={coordinates:function(){return e},attribute:function(t,e){return arguments.length>1?(n[t]=e,o):arguments.length>0?n[t]:n},selected:function(e,n){return arguments.length>0?(t.setSelected(e,n),o):t.isSelected()},applySettings:function(e){return t.update(e),o}};return o}function no(t){var e,n,o,i=t.length,r=t[i-1],a=0,l=0,s=0,u=1/0,c=-1/0,d=1/0,h=-1/0;for(e=0;e<i;++e)n=r,r=t[e],o=n[0]*r[1]-r[0]*n[1],s+=o,a+=(n[0]+r[0])*o,l+=(n[1]+r[1])*o,u=on(u,r[0]),c=rn(c,r[0]),d=on(d,r[1]),h=rn(h,r[1]);return{area:en(s)/2,center:[2*a/3/s-(u+c)/2,2*l/3/s-(d+h)/2]}}function oo(t){var e,n,o=t.length,i=t[0]||[],r=0,a=[0],l=i[0],s=i[0],u=i[1],c=i[1];for(e=1;e<o;++e)n=i,i=t[e],r+=an((n[0]-i[0])*(n[0]-i[0])+(n[1]-i[1])*(n[1]-i[1])),a[e]=r,l=on(l,i[0]),s=rn(s,i[0]),u=on(u,i[1]),c=rn(c,i[1]);e=Wn(r/2,a),n=t[e],i=t[e+1];var d=(r/2-a[e])/(a[e+1]-a[e]);return o?[[n[0]*(1-d)+i[0]*d,n[1]*(1-d)+i[1]*d],[s-l,c-u],r]:[]}function io(t){var e,n,o,i=t.length,r=0;for(e=0;e<i;++e)n=no(t[e]),n.area>r&&(r=n.area,o=n);return o?[o.center,[an(o.area),an(o.area)]]:[[],[]]}function ro(t){var e,n,o,i=t.length,r=0;for(e=0;e<i;++e)n=oo(t[e]),n[2]>r&&(r=n[2],o=n);return o||[[],[]]}function ao(t){var e=t.renderer;this._params=t,this._layers=[],this._layerByName={},this._rect=[0,0,0,0],this._clip=e.clipRect(),this._background=e.rect().attr({class:"dxm-background"}).data(t.dataKey,{name:"background"}).append(e.root),this._container=e.g().attr({class:"dxm-layers","clip-path":this._clip.id}).append(e.root).enableLinks(),this._subscribeToTracker(t.tracker,e,t.eventTrigger),this._dataReady=t.dataReady}to.prototype=Ze({constructor:to,getDataReadyCallback(){return this._dataSourceLoaded},_onProjection:function(){var t=this;t._removeHandlers=t._params.projection.on({engine:function(){t._project()},screen:function(){t._transform()},center:function(){t._transformCore()},zoom:function(){t._transform()}})},getData(){return this._data},_dataSourceLoadErrorHandler:function(){this._dataSourceChangedHandler()},_dataSourceChangedHandler:function(){this._data=mn(this._dataSource&&this._dataSource.items()),this._update(!0)},_dataSourceOptions:function(){return{paginate:!1}},_getSpecificDataSourceOption:function(){return this._specificDataSourceOption},_normalizeDataSource:function(t){var e=t.store();return"raw"===e._loadMode&&(e._loadMode=void 0),t},_offProjection:function(){this._removeHandlers(),this._removeHandlers=null},dispose:function(){return this._disposeDataSource(),this._destroyHandles(),Un(this._context),this._context.root.linkRemove().linkOff(),this._context.labelRoot&&this._context.labelRoot.linkRemove().linkOff(),this._context.str.reset(this._context),this._offProjection(),this._params=this._container=this._context=this.proxy=null,this},setOptions:function(t){t=this._options=t||{},this._dataSourceLoaded=new Me.BH,"dataSource"in t&&t.dataSource!==this._options_dataSource?(this._options_dataSource=t.dataSource,this._params.notifyDirty(),this._specificDataSourceOption=_n(t.dataSource),this._refreshDataSource()):this._data.count()>0&&(this._params.notifyDirty(),this._update(void 0!==t.type&&t.type!==this._context.str.type||void 0!==t.elementType&&t.elementType!==this._context.str.elementType)),this._transformCore()},_update:function(t){var e=this._context;t&&(e.str.reset(e),e.root.clear(),e.labelRoot&&e.labelRoot.clear(),this._params.tracker.reset(),this._destroyHandles(),e.str=En(this._options,this._data),e.str.setup(e),this.proxy.type=e.str.type,this.proxy.elementType=e.str.elementType),e.settings=Kn(e,this._options),e.hasSeparateLabel=!(!e.settings.label.enabled||!e.str.hasLabelsGroup),e.hover=!!(0,o.It)(e.settings.hoverEnabled,!0),e.selection&&Pe(e.selection.state,(function(t,e){e&&e.resetSelected()})),e.selection=sn(e.settings.selectionMode),e.hasSeparateLabel?e.labelRoot||(e.labelRoot=e.renderer.g().attr({class:"dxm-layer-labels"}).linkOn(this._container,{name:e.name+"-labels",after:e.name}).linkAppend(),this._transformCore()):e.labelRoot&&(e.labelRoot.linkRemove().linkOff(),e.labelRoot=null),t&&this._createHandles(),Un(e),e.str.arrange(e,this._handles),e.str.updateGrouping(e),this._updateHandles(),this._params.notifyReady(),this._dataSourceLoaded?(this._dataSourceLoaded.resolve(),this._dataSourceLoaded=null):this._params.dataReady()},getBounds(){return ln(this._handles.map((t=>{var{proxy:e}=t;return e.coordinates().map((t=>{if(Je(t)){var e=Je(t[0][0])?t.reduce(((t,e)=>t.concat(e)),[]):t,n=e[0];return e.reduce(((t,e)=>[on(t[0],e[0]),on(t[1],e[1]),rn(t[2],e[0]),rn(t[3],e[1])]),[n[0],n[1],n[0],n[1]])}}))})).map(ln))},_destroyHandles(){this._handles.forEach((t=>t.dispose())),this._context.selection&&(this._context.selection.state={}),this._handles=[]},_createHandles:function(){var t,e,n,o=this._handles=[],i=this._data,r=o.length=i.count(),a=this._context,l=i.geometry,s=i.attributes;for(t=0;t<r;++t)n=i.item(t),o[t]=new Yn(a,t,l(n),s(n));for((0,Re.mf)(this._options.customize)&&fn(this.getProxies(),this._options.customize,this._params.widget),t=0;t<r;++t)e=o[t],e.project(),e.draw(),e.transform();a.selection&&Pe(a.selection.state,(function(t,e){e&&e.restoreSelected()}))},_updateHandles:function(){var t,e=this._handles,n=e.length;for(t=0;t<n;++t)e[t].refresh();if(this._context.settings.label.enabled){for(t=0;t<n;++t)e[t].measureLabel();for(t=0;t<n;++t)e[t].adjustLabel()}},_transformCore:function(){var t=this._params.projection.getTransform();this._context.root.attr(t),this._context.labelRoot&&this._context.labelRoot.attr(t)},_project:function(){var t,e=this._handles,n=e.length;for(t=0;t<n;++t)e[t].project()},_transform:function(){var t,e=this._handles,n=e.length;for(this._transformCore(),t=0;t<n;++t)e[t].transform()},getProxies(){return this._handles.map((t=>t.proxy))},getProxy:function(t){return this._handles[t].proxy},raiseClick:function(t,e){this._params.eventTrigger("click",{target:this._handles[t].proxy,event:e})},hoverItem:function(t,e){this._handles[t].setHovered(e)},selectItem:function(t,e,n){this._handles[t].setSelected(e,n)},clearSelection:function(){var t=this._context.selection;t&&(Pe(t.state,(function(t,e){e&&e.setSelected(!1)})),t.state={})}},Ie.Z),Yn=function(t,e,n,o){var i=this.proxy=eo(this,n.coordinates,Ze({},o));this._ctx=t,this._index=e,this._fig=this._label=null,this._state=Ke,this._coordinates=n.coordinates,this._settings={label:{}},i.index=e,i.layer=t.layer,this._data={name:t.name,index:e}},Yn.prototype={constructor:Yn,dispose:function(){return this._ctx=this.proxy=this._settings=this._fig=this._label=this.data=null,this},project:function(){var t=this._ctx;this._projection=t.str.project(t.projection,this._coordinates),t.hasSeparateLabel&&this._label&&this._projectLabel()},_projectLabel:function(){this._labelProjection=this._ctx.str.projectLabel(this._projection)},draw:function(){var t=this._ctx;t.str.draw(t,this._fig={},this._data),this._fig.root.append(t.root)},transform:function(){var t=this._ctx;t.str.transform(this._fig,t.projection,this._projection),t.hasSeparateLabel&&this._label&&this._transformLabel()},_transformLabel:function(){this._ctx.str.transformLabel(this._label,this._ctx.projection,this._labelProjection)},refresh:function(){var t=this._ctx.str,e=Pn(this._ctx,this.proxy,this._settings);this._styles=t.getStyles(e),t.refresh(this._ctx,this._fig,this._data,this.proxy,e),this._refreshLabel(e),this._setState()},_refreshLabel:function(t){var e=this._ctx,n=t.label,i=this._label;e.settings.label.enabled?(i||(i=this._label={root:e.labelRoot||this._fig.root,text:e.renderer.text().attr({class:"dxm-label"}),size:[0,0]},e.hasSeparateLabel&&(this._projectLabel(),this._transformLabel())),i.value=tn(this.proxy.text||this.proxy.attribute(n.dataField)||""),i.value&&(i.text.attr({text:i.value,x:0,y:0}).css((0,o.FI)(n.font)).attr({align:"center",stroke:n.stroke,"stroke-width":n["stroke-width"],"stroke-opacity":n["stroke-opacity"]}).data(e.dataKey,this._data).append(i.root),i.settings=t)):i&&(i.text.remove(),this._label=null)},measureLabel:function(){var t,e=this._label;e.value&&(t=e.text.getBBox(),e.size=[t.width,t.height,-t.y-t.height/2])},adjustLabel:function(){var t,e=this._label;e.value&&(t=this._ctx.str.getLabelOffset(e,e.settings),e.settings=null,e.text.attr({x:t[0],y:t[1]+e.size[2]}))},update:function(t){this._settings=Gn(this._settings,t),this._fig&&(this.refresh(),this._label&&this._label.value&&(this.measureLabel(),this.adjustLabel()))},_setState:function(){this._ctx.str.setState(this._fig,this._styles,Xe[this._state])},_setForeground:function(){var t=this._fig.root;this._state?t.toForeground():t.toBackground()},setHovered:function(t){var e=Jn(this._state,Ve),n=!!t;return this._ctx.hover&&e!==n&&(this._state=qn(this._state,Ve,n),this._setState(),this._setForeground(),$n(this._ctx,this,n,"hoverChanged")),this},setSelected:function(t,e){var n,o=Jn(this._state,Ye),i=!!t,r=this._ctx.selection;r&&o!==i&&(this._state=qn(this._state,Ye,i),n=r.state[r.single],r.state[r.single]=null,n&&n.setSelected(!1),r.state[r.single||this._index]=t?this:null,this._fig&&(this._setState(),this._setForeground(),e||$n(this._ctx,this,i,"selectionChanged")))},isSelected:function(){return Jn(this._state,Ye)},resetSelected:function(){this._state=qn(this._state,Ye,!1)},restoreSelected:function(){this._fig.root.toForeground()}},ao.prototype={constructor:ao,dispose:function(){this._clip.dispose(),this._layers.forEach((t=>t.dispose())),this._offTracker(),this._params=this._offTracker=this._layers=this._layerByName=this._clip=this._background=this._container=null},_subscribeToTracker:function(t,e,n){var o=this;o._offTracker=t.on({click:function(t){var i=e.getRootOffset(),r=o.byName(t.data.name);t.$event.x=t.x-i.left,t.$event.y=t.y-i.top,r?r.raiseClick(t.data.index,t.$event):"background"===t.data.name&&n("click",{event:t.$event})},"hover-on":function(t){var e=o.byName(t.data.name);e&&e.hoverItem(t.data.index,!0)},"hover-off":function(t){var e=o.byName(t.data.name);e&&e.hoverItem(t.data.index,!1)}})},setOptions(t){var e,n=t?Je(t)?t:[t]:[],o=this._layers,i=n.length!==o.length||o.some(((t,e)=>{var o=un(n,e);return(0,Re.$K)(o)&&o!==t.proxy.name}));if(i){this._params.tracker.reset(),this._layers.forEach((t=>t.dispose()));var r=this._layerByName={};this._layers=o=[];for(var a=0,l=n.length;a<l;++a){var s=un(n,a)||"map-layer-"+a,u=o[a]=new to(this._params,this._container,s,a);r[s]=u}}o.forEach(((t,e)=>{t.setOptions(n[e])})),e=o.map((t=>t.getDataReadyCallback())),e.length&&Me.gx.apply(void 0,e).done(this._dataReady)},_updateClip:function(){var t=this._rect,e=this._borderWidth;this._clip.attr({x:t[0]+e,y:t[1]+e,width:rn(t[2]-2*e,0),height:rn(t[3]-2*e,0)})},setBackgroundOptions:function(t){this._background.attr({stroke:t.borderColor,"stroke-width":t.borderWidth,fill:t.color}),this._borderWidth=rn(t.borderWidth,0),this._updateClip()},setRect:function(t){this._rect=t,this._background.attr({x:t[0],y:t[1],width:t[2],height:t[3]}),this._updateClip()},byIndex:function(t){return this._layers[t]},byName:function(t){return this._layerByName[t]},items:function(){return this._layers}};var lo=12;function so(t){this._subscribeToTracker(t.tracker,t.tooltip,t.layerCollection)}so.prototype={constructor:so,dispose:function(){this._offTracker(),this._offTracker=null},_subscribeToTracker:function(t,e,n){this._offTracker=t.on({"focus-on":function(t){var o,i;if(e.isEnabled()){o=n.byName(t.data.name),i=o&&o.getProxy(t.data.index);var r=e=>{e&&t.done(e)};i&&r(e.show(i,{x:t.x,y:t.y,offset:lo},{target:i},void 0,r))}},"focus-move":function(t){e.move(t.x,t.y,lo)},"focus-off":function(){e.hide()}})}};var uo=1;function co(){return"vectormap-data-"+uo++}var ho=Math.min,po=Math.max,mo=Math.sin,_o=Math.asin,fo=Math.tan,go=Math.atan,vo=Math.exp,bo=Math.log,yo=Math.PI,Co=yo/4,xo=180,So=90,No=yo/180,ko=(2*go(vo(yo))-yo/2)/No,Oo=(2.5*go(vo(.8*yo))-.625*yo)/No;function wo(t,e){return po(ho(t,+e),-e)}M.add("mercator",M({aspectRatio:1,to:function(t){return[t[0]/xo,bo(fo(Co+wo(t[1],ko)*No/2))/yo]},from:function(t){return[t[0]*xo,(2*go(vo(t[1]*yo))-yo/2)/No]}})),M.add("equirectangular",M({aspectRatio:2,to:function(t){return[t[0]/xo,t[1]/So]},from:function(t){return[t[0]*xo,t[1]*So]}})),M.add("lambert",M({aspectRatio:2,to:function(t){return[t[0]/xo,mo(wo(t[1],So)*No)]},from:function(t){return[t[0]*xo,_o(wo(t[1],1))/No]}})),M.add("miller",M({aspectRatio:1,to:function(t){return[t[0]/xo,1.25*bo(fo(Co+wo(t[1],Oo)*No*.4))/yo]},from:function(t){return[t[0]*xo,(2.5*go(vo(.8*t[1]*yo))-.625*yo)/No]}}));var zo=n(66060),Eo=n(70732),To=n(21979),Bo=n(68073),jo=n(53151),Do=n(65418),Lo=n(81395),Ao=800,Io=400,Ro=/^layers/,Mo=/\.dataSource$/;function Fo(t,e){return e?[Math.min(e[0],e[2],t[0]),Math.min(e[1],e[3],t[3]),Math.max(e[0],e[2],t[2]),Math.max(e[1],e[3],t[1])]:t}var Zo=zo.Z.inherit({_eventsMap:{onClick:{name:"click"},onCenterChanged:{name:"centerChanged"},onZoomFactorChanged:{name:"zoomFactorChanged"},onHoverChanged:{name:"hoverChanged"},onSelectionChanged:{name:"selectionChanged"}},_rootClassPrefix:"dxm",_rootClass:"dxm-vector-map",_themeSection:"map",_fontFields:["layer:area.label.font","layer:marker:dot.label.font","layer:marker:bubble.label.font","layer:marker:pie.label.font","layer:marker:image.label.font","legend.font","legend.title.font","legend.title.subtitle.font"],_initLayerCollection:function(t){var e=this;e._layerCollection=new ao({renderer:e._renderer,projection:e._projection,themeManager:e._themeManager,tracker:e._tracker,dataKey:t,eventTrigger:e._eventTrigger,dataExchanger:e._dataExchanger,tooltip:e._tooltip,notifyDirty:e._notifyDirty,notifyReady:e._notifyReady,dataReady(){var t;if(e.option("getBoundsFromData")&&!e.option("bounds")&&(e._preventProjectionEvents(),t=e._getBoundsFromData(),e._projection.setBounds(t),e._allowProjectionEvents()),!e.option("projection")&&(t=t||e._getBoundsFromData(),Math.ceil(t[0])<-180||Math.ceil(t[3])<-90||Math.floor(t[2])>180||Math.floor(t[1])>90)){var n=t[2]-t[0],o=t[1]-t[3];e._projection.setEngine({to:e=>[2*(e[0]-t[0])/n-1,2*(e[1]-t[3])/o-1],from:e=>[(e[0]+1)*n/2+t[0],(e[1]+1)*o/2+t[3]]})}}})},_getBoundsFromData(){var t=this._getBoundingBoxFromDataSource();if(!t){var e=ln(this.getLayers().map((t=>t.getBounds())));e&&(t=e)}return t=t||[],t=[t[0],t[3],t[2],t[1]],t},_initLegendsControl:function(){this._legendsControl=new Ce({renderer:this._renderer,container:this._root,widget:this,layoutControl:this._layoutControl,themeManager:this._themeManager,dataExchanger:this._dataExchanger,notifyDirty:this._notifyDirty,notifyReady:this._notifyReady})},_initControlBar:function(t){this._controlBar=new ft({renderer:this._renderer,container:this._root,layoutControl:this._layoutControl,projection:this._projection,tracker:this._tracker,dataKey:t})},_initElements:function(){var t,e=this,n=co(),o=0;e._preventProjectionEvents=function(){t=!0},e._allowProjectionEvents=function(){t=!1},e._notifyDirty=function(){e._resetIsReady(),++o},e._notifyReady=function(){e._allowProjectionEvents(),0===--o&&e._drawn()},e._preventProjectionEvents(),e._dataExchanger=new he,e._projection=new O({centerChanged:function(n){t||e._eventTrigger("centerChanged",{center:n})},zoomChanged:function(n){t||e._eventTrigger("zoomFactorChanged",{zoomFactor:n})}}),e._tracker=new oe({root:e._root,projection:e._projection,dataKey:n}),e._gestureHandler=new Nt({projection:e._projection,renderer:e._renderer,tracker:e._tracker}),e._layoutControl=new Le(e),e._layoutControl.suspend(),e._initLayerCollection(n),e._createHtmlStructure(),e._initControlBar(n),e._initLegendsControl(),e._prepareExtraElements(),e._tooltipViewer=new so({tracker:e._tracker,tooltip:e._tooltip,layerCollection:e._layerCollection})},_change_RESUME_LAYOUT:function(){this._layoutControl.resume()},_initialChanges:["PROJECTION","RESUME_LAYOUT","LAYOUT_INIT","BOUNDS","MAX_ZOOM_FACTOR","ZOOM_FACTOR","CENTER"],_layoutChangesOrder:["RESUME_LAYOUT","LAYERS"],_customChangesOrder:["EXTRA_ELEMENTS"],_initCore:function(){this._root=this._renderer.root.attr({align:"center",cursor:"default"}),this._initElements()},_disposeCore:function(){this._controlBar.dispose(),this._gestureHandler.dispose(),this._tracker.dispose(),this._legendsControl.dispose(),this._layerCollection.dispose(),this._layoutControl.dispose(),this._tooltipViewer.dispose(),this._dataExchanger.dispose(),this._projection.dispose(),this._dataExchanger=this._gestureHandler=this._projection=this._tracker=this._layoutControl=this._root=this._layerCollection=this._controlBar=this._legendsControl=null},_setupInteraction:function(){var t={centeringEnabled:!!(0,o.It)(this._getOption("panningEnabled",!0),!0),zoomingEnabled:!!(0,o.It)(this._getOption("zoomingEnabled",!0),!0)};this._gestureHandler.setInteraction(t),this._controlBar.setInteraction(t)},_getDefaultSize:function(){return{width:Ao,height:Io}},_applySize:function(t){var e={left:t[0],top:t[1],width:t[2]-t[0],height:t[3]-t[1],right:0,bottom:0};this._projection.setSize(e),this._layoutControl.setSize(e),this._layerCollection.setRect([e.left,e.top,e.width,e.height]),this._requestChange(["EXTRA_ELEMENTS"])},_optionChanging:function(t,e,n){e&&n&&Ro.test(t)&&(e.dataSource&&n.dataSource&&e!==n?e.dataSource=null:Mo.test(t)&&this.option(t,null))},_applyChanges:function(){this._notifyDirty(),this.callBase.apply(this,arguments),this._notifyReady()},_optionChangesMap:{background:"BACKGROUND",layers:"LAYERS",extraElements:"EXTRA_ELEMENTS",controlBar:"CONTROL_BAR",legends:"LEGENDS",touchEnabled:"TRACKER",wheelEnabled:"TRACKER",panningEnabled:"INTERACTION",zoomingEnabled:"INTERACTION",projection:"PROJECTION",bounds:"BOUNDS",maxZoomFactor:"MAX_ZOOM_FACTOR",zoomFactor:"ZOOM_FACTOR",center:"CENTER"},_optionChangesOrder:["PROJECTION","BOUNDS","MAX_ZOOM_FACTOR","ZOOM_FACTOR","CENTER","BACKGROUND","CONTROL_BAR","LEGENDS","TRACKER","INTERACTION"],_change_PROJECTION:function(){this._setProjection()},_change_BOUNDS:function(){this._setBounds()},_change_MAX_ZOOM_FACTOR:function(){this._setMaxZoom()},_change_ZOOM_FACTOR:function(){this._setZoom()},_change_CENTER:function(){this._setCenter()},_change_BACKGROUND:function(){this._setBackgroundOptions()},_change_LAYERS:function(){this._setLayerCollectionOptions()},_change_CONTROL_BAR:function(){this._setControlBarOptions()},_change_EXTRA_ELEMENTS:function(){this._renderExtraElements()},_change_LEGENDS:function(){this._setLegendsOptions()},_change_TRACKER:function(){this._setTrackerOptions()},_change_INTERACTION:function(){this._setupInteraction()},_themeDependentChanges:["BACKGROUND","LAYERS","CONTROL_BAR","LEGENDS","TRACKER","INTERACTION"],_setProjection:function(){this._projection.setEngine(this.option("projection"))},_setBounds:function(){this._projection.setBounds(this.option("bounds"))},_setMaxZoom:function(){this._projection.setMaxZoom(this.option("maxZoomFactor"))},_setZoom:function(){this._projection.setZoom(this.option("zoomFactor"))},_setCenter:function(){this._projection.setCenter(this.option("center"))},_setBackgroundOptions:function(){this._layerCollection.setBackgroundOptions(this._getOption("background"))},_setLayerCollectionOptions:function(){this._layerCollection.setOptions(this.option("layers"))},_getBoundingBoxFromDataSource(){var t=this._layerCollection.items(),e=[1/0,-1/0,-1/0,1/0],n=t&&t.length?t.reduce(((t,e)=>{var n=e.getData(),o=n.count();if(o>0){var i=n.getBBox();if(i)t=Fo(t,i);else for(var r=0;r<o;r++)t=Fo(t,n.getBBox(r))}return t}),e):void 0;return n===e?void 0:n},_setControlBarOptions:function(){this._controlBar.setOptions(this._getOption("controlBar"))},_setLegendsOptions:function(){this._legendsControl.setOptions(this.option("legends"))},_setTrackerOptions:function(){this._tracker.setOptions({touchEnabled:this._getOption("touchEnabled",!0),wheelEnabled:this._getOption("wheelEnabled",!0)})},getLayers(){return this._layerCollection.items().map((t=>t.proxy))},getLayerByIndex:function(t){var e=this._layerCollection.byIndex(t);return e?e.proxy:null},getLayerByName:function(t){var e=this._layerCollection.byName(t);return e?e.proxy:null},clearSelection:function(t){var e,n=this._layerCollection.items(),o=n.length;for(e=0;e<o;++e)n[e].clearSelection(t);return this},center:function(t){return void 0===t?this._projection.getCenter():(this._projection.setCenter(t),this)},zoomFactor:function(t){return void 0===t?this._projection.getZoom():(this._projection.setZoom(t),this)},viewport:function(t){return void 0===t?this._projection.getViewport():(this._projection.setViewport(t),this)},convertCoordinates:function(t){return t=t&&t.length?t:[arguments[0],arguments[1]],this.convertToGeo(t[0],t[1])},convertToGeo:function(t,e){return this._projection.fromScreenPoint([t,e])},convertToXY:function(t,e){return this._projection.toScreenPoint([t,e])}});(0,Eo.Z)("dxVectorMap",Zo);var Po=Zo;Zo.addPlugin(To.BA),Zo.addPlugin(Bo.B),Zo.addPlugin(jo.B),Zo.addPlugin(Do.B),Zo.addPlugin(Lo.G.core),Zo.addPlugin(Lo.G.vectorMap);var Ho=Po}}]);